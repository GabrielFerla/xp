2025-09-16 21:14:11 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 255240 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:14:11 [restartedMain] INFO  com.xp.XpApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-16 21:14:11 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-core\4.0.5\jaxb-core-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.activation-api.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.xml.bind-api.jar
2025-09-16 21:14:11 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-impl\4.0.5\jaxb-impl-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/jaxb-core.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/angus-activation.jar
2025-09-16 21:14:11 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-16 21:14:11 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-16 21:14:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:14:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 81 ms. Found 3 JPA repository interfaces.
2025-09-16 21:14:14 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (https)
2025-09-16 21:14:14 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:14:14 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:14:14 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:14:14 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3459 ms
2025-09-16 21:14:14 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:14:15 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.13.Final
2025-09-16 21:14:15 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:14:15 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:14:15 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-16 21:14:15 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:xpdb user=SA
2025-09-16 21:14:15 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-16 21:14:15 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:14:15 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:14:16 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:14:16 [restartedMain] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [customers]
2025-09-16 21:14:16 [restartedMain] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'securityConfig' defined in file [C:\Aulas\xp\target\classes\com\xp\config\SecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.xp.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-09-16 21:14:16 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-09-16 21:14:16 [restartedMain] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-16 21:14:16 [restartedMain] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1069)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-16 21:14:16 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-09-16 21:14:16 [restartedMain] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-09-16 21:14:16 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-16 21:14:16 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-16 21:14:16 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-09-16 21:14:16 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:170)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.xp.XpApplication.main(XpApplication.java:12)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:147)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:517)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:219)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	... 11 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'securityConfig' defined in file [C:\Aulas\xp\target\classes\com\xp\config\SecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.xp.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:413)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:211)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:174)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:169)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:154)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:271)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:245)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4464)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:412)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:438)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	... 16 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.xp.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1717)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1466)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 66 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 79 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [customers]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1818)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 91 common frames omitted
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [customers]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:431)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1865)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1814)
	... 98 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [customers]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:136)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:46)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:99)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:77)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:289)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	... 102 common frames omitted
2025-09-16 21:18:49 [main] INFO  com.xp.XpApplication - Starting XpApplication v0.0.1-SNAPSHOT using Java 21.0.6 with PID 254164 (C:\Aulas\xp\target\xp-0.0.1-SNAPSHOT.jar started by gabri in C:\Aulas\xp)
2025-09-16 21:18:49 [main] INFO  com.xp.XpApplication - The following 1 profile is active: "mysql"
2025-09-16 21:18:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:18:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 50 ms. Found 3 JPA repository interfaces.
2025-09-16 21:18:51 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:18:51 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:18:51 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:18:52 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:18:52 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2933 ms
2025-09-16 21:18:52 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:18:52 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.13.Final
2025-09-16 21:18:52 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:18:52 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:18:52 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-16 21:18:53 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@31f5ffb9
2025-09-16 21:18:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-16 21:18:53 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:18:53 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-16 21:18:53 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:18:53 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:18:54 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:18:54 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: java.lang.IllegalStateException. Message: Failed to register 'servlet CamelServlet' on the servlet context. Possibly already registered?
2025-09-16 21:18:54 [main] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:18:54 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-09-16 21:18:54 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-16 21:18:54 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1069)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-16 21:18:54 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-09-16 21:18:54 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:18:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-16 21:18:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-16 21:18:54 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-09-16 21:18:54 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:170)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.xp.XpApplication.main(XpApplication.java:12)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:147)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:517)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:219)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	... 13 common frames omitted
Caused by: java.lang.IllegalStateException: Failed to register 'servlet CamelServlet' on the servlet context. Possibly already registered?
	at org.springframework.boot.web.servlet.DynamicRegistrationBean.register(DynamicRegistrationBean.java:122)
	at org.springframework.boot.web.servlet.RegistrationBean.onStartup(RegistrationBean.java:52)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:246)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4464)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:412)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:438)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	... 18 common frames omitted
2025-09-16 21:19:07 [main] INFO  com.xp.XpApplication - Starting XpApplication v0.0.1-SNAPSHOT using Java 21.0.6 with PID 190676 (C:\Aulas\xp\target\xp-0.0.1-SNAPSHOT.jar started by gabri in C:\Aulas\xp)
2025-09-16 21:19:07 [main] INFO  com.xp.XpApplication - The following 1 profile is active: "mysql"
2025-09-16 21:19:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:19:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 58 ms. Found 3 JPA repository interfaces.
2025-09-16 21:19:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:19:11 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:19:11 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:19:11 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:19:11 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3602 ms
2025-09-16 21:19:11 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:19:11 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.13.Final
2025-09-16 21:19:11 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:19:12 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:19:12 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-16 21:19:12 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7fe0ca60
2025-09-16 21:19:12 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-16 21:19:12 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:19:12 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-16 21:19:12 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:19:13 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:19:13 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:19:13 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: java.lang.IllegalStateException. Message: Failed to register 'servlet CamelServlet' on the servlet context. Possibly already registered?
2025-09-16 21:19:13 [main] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:19:13 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-09-16 21:19:13 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-16 21:19:13 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1069)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-16 21:19:13 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-09-16 21:19:13 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:19:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-16 21:19:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-16 21:19:13 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-09-16 21:19:13 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:170)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.xp.XpApplication.main(XpApplication.java:12)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:147)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:517)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:219)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	... 13 common frames omitted
Caused by: java.lang.IllegalStateException: Failed to register 'servlet CamelServlet' on the servlet context. Possibly already registered?
	at org.springframework.boot.web.servlet.DynamicRegistrationBean.register(DynamicRegistrationBean.java:122)
	at org.springframework.boot.web.servlet.RegistrationBean.onStartup(RegistrationBean.java:52)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:246)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4464)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:412)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:438)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	... 18 common frames omitted
2025-09-16 21:20:46 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 244072 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:20:46 [restartedMain] INFO  com.xp.XpApplication - The following 1 profile is active: "mysql"
2025-09-16 21:20:46 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-core\4.0.5\jaxb-core-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.activation-api.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.xml.bind-api.jar
2025-09-16 21:20:46 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-impl\4.0.5\jaxb-impl-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/jaxb-core.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/angus-activation.jar
2025-09-16 21:20:46 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-16 21:20:46 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-16 21:20:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:20:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 52 ms. Found 3 JPA repository interfaces.
2025-09-16 21:20:48 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:20:48 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:20:48 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:20:48 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:20:48 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2067 ms
2025-09-16 21:20:48 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:20:48 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.13.Final
2025-09-16 21:20:48 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:20:48 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:20:48 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-16 21:20:49 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@42792bd6
2025-09-16 21:20:49 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-16 21:20:49 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:20:49 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-16 21:20:49 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:20:49 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:20:50 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:20:50 [restartedMain] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: java.lang.IllegalStateException. Message: Failed to register 'servlet CamelServlet' on the servlet context. Possibly already registered?
2025-09-16 21:20:50 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:20:50 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-09-16 21:20:50 [restartedMain] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-16 21:20:50 [restartedMain] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1069)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-16 21:20:50 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-09-16 21:20:50 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:20:50 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-16 21:20:50 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-16 21:20:50 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-09-16 21:20:50 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:170)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.xp.XpApplication.main(XpApplication.java:12)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:147)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:517)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:219)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	... 11 common frames omitted
Caused by: java.lang.IllegalStateException: Failed to register 'servlet CamelServlet' on the servlet context. Possibly already registered?
	at org.springframework.boot.web.servlet.DynamicRegistrationBean.register(DynamicRegistrationBean.java:122)
	at org.springframework.boot.web.servlet.RegistrationBean.onStartup(RegistrationBean.java:52)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:246)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4464)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:412)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:438)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	... 16 common frames omitted
2025-09-16 21:21:05 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 28884 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:21:05 [restartedMain] INFO  com.xp.XpApplication - The following 1 profile is active: "mysql"
2025-09-16 21:21:06 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-core\4.0.5\jaxb-core-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.activation-api.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.xml.bind-api.jar
2025-09-16 21:21:06 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-impl\4.0.5\jaxb-impl-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/jaxb-core.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/angus-activation.jar
2025-09-16 21:21:06 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-16 21:21:06 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-16 21:21:07 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:21:07 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 64 ms. Found 3 JPA repository interfaces.
2025-09-16 21:21:07 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:21:07 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:21:07 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:21:07 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:21:07 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1849 ms
2025-09-16 21:21:08 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:21:08 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.13.Final
2025-09-16 21:21:08 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:21:08 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:21:08 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-16 21:21:08 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@20f49dc5
2025-09-16 21:21:08 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-16 21:21:08 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:21:08 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-16 21:21:08 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:21:09 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:21:09 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:21:09 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:21:09 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:21:09 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:21:10 [restartedMain] INFO  o.a.camel.util.concurrent.ThreadType - The type of thread detected is PLATFORM
2025-09-16 21:21:10 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:21:10 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:21:11 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:21:11 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:21:11 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/xpdb?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC&createDatabaseIfNotExist=true'
2025-09-16 21:21:11 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:21:11 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:21:11 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-16 21:21:11 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:21:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:21:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:21:12 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:21:12 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:21:12 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:21:12 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:21:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:21:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:21:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:21:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:21:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:21:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:21:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:21:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:21:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:21:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:21:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:21:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:21:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 229ms (build:0ms init:0ms start:229ms)
2025-09-16 21:21:12 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 6.931 seconds (process running for 7.309)
2025-09-16 21:21:12 [restartedMain] INFO  com.xp.config.DataLoader - Loading initial data...
2025-09-16 21:21:12 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-09-16 21:21:12 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.orm.jpa.JpaSystemException: Unable to commit against JDBC Connection
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:348)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy177.count(Unknown Source)
	at com.xp.config.DataLoader.run(DataLoader.java:42)
	at org.springframework.boot.SpringApplication.lambda$callRunner$5(SpringApplication.java:789)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:773)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:773)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:325)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.xp.XpApplication.main(XpApplication.java:12)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.hibernate.TransactionException: Unable to commit against JDBC Connection
	at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:97)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:268)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)
	... 36 common frames omitted
Caused by: java.sql.SQLException: Can't call commit when autocommit=true
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:68)
	at com.mysql.cj.jdbc.ConnectionImpl.commit(ConnectionImpl.java:783)
	at com.zaxxer.hikari.pool.ProxyConnection.commit(ProxyConnection.java:378)
	at com.zaxxer.hikari.pool.HikariProxyConnection.commit(HikariProxyConnection.java)
	at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:87)
	... 39 common frames omitted
2025-09-16 21:21:12 [restartedMain] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-16 21:21:12 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-16 21:21:12 [restartedMain] WARN  o.a.c.s.boot.SpringBootCamelContext - CamelContext has only been running for less than a second. If you intend to run Camel for a longer time then you can set the property camel.springboot.main-run-controller=true in application.properties or add spring-boot-starter-web JAR to the classpath.
2025-09-16 21:21:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is shutting down (timeout:45s)
2025-09-16 21:21:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes stopped (stopped:11)
2025-09-16 21:21:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:21:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-channel (servlet:/deadletter)
2025-09-16 21:21:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-enricher (servlet:/enrich)
2025-09-16 21:21:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:21:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped load-balancer (servlet:/loadbalance)
2025-09-16 21:21:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped content-based-router (servlet:/route)
2025-09-16 21:21:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-aggregator (servlet:/aggregate)
2025-09-16 21:21:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:21:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:21:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:21:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:21:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) shutdown in 18ms (uptime:0s)
2025-09-16 21:21:12 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:21:13 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-16 21:21:13 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-16 21:21:13 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:22:13 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 17964 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:22:13 [restartedMain] INFO  com.xp.XpApplication - The following 1 profile is active: "mysql"
2025-09-16 21:22:13 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-core\4.0.5\jaxb-core-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.activation-api.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.xml.bind-api.jar
2025-09-16 21:22:13 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-impl\4.0.5\jaxb-impl-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/jaxb-core.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/angus-activation.jar
2025-09-16 21:22:13 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-16 21:22:13 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-16 21:22:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:22:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 56 ms. Found 3 JPA repository interfaces.
2025-09-16 21:22:15 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:22:15 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:22:15 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:22:15 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:22:15 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1947 ms
2025-09-16 21:22:15 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:22:15 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.13.Final
2025-09-16 21:22:15 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:22:15 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:22:15 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-16 21:22:15 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@43f5f098
2025-09-16 21:22:15 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-16 21:22:15 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:22:15 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-16 21:22:15 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:22:16 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:22:16 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:22:17 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:22:17 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:22:17 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:22:17 [restartedMain] INFO  o.a.camel.util.concurrent.ThreadType - The type of thread detected is PLATFORM
2025-09-16 21:22:17 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:22:18 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:22:18 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:22:18 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:22:18 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/xpdb?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC&createDatabaseIfNotExist=true'
2025-09-16 21:22:18 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:22:19 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:22:19 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-16 21:22:19 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:22:19 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:22:19 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:22:19 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:22:19 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:22:19 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:22:19 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:22:19 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:22:19 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:22:19 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:22:19 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:22:19 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:22:19 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:22:19 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:22:19 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:22:19 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:22:19 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:22:19 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:22:19 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:22:19 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 205ms (build:0ms init:0ms start:205ms)
2025-09-16 21:22:19 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 6.853 seconds (process running for 7.236)
2025-09-16 21:22:19 [restartedMain] INFO  com.xp.config.DataLoader - Loading initial data...
2025-09-16 21:22:20 [restartedMain] INFO  com.xp.config.DataLoader - Sample products created successfully
2025-09-16 21:22:20 [restartedMain] INFO  com.xp.config.DataLoader - Sample customers created successfully
2025-09-16 21:22:20 [restartedMain] INFO  com.xp.config.DataLoader - Sample users created successfully
2025-09-16 21:22:44 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-09-16 21:22:44 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-16 21:22:45 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-16 21:22:45 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is shutting down (timeout:45s)
2025-09-16 21:22:45 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext - Routes stopped (stopped:11)
2025-09-16 21:22:45 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:22:45 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-channel (servlet:/deadletter)
2025-09-16 21:22:45 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-enricher (servlet:/enrich)
2025-09-16 21:22:45 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:22:45 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped load-balancer (servlet:/loadbalance)
2025-09-16 21:22:45 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped content-based-router (servlet:/route)
2025-09-16 21:22:45 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-aggregator (servlet:/aggregate)
2025-09-16 21:22:45 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:22:45 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:22:45 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:22:45 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:22:45 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) shutdown in 16ms (uptime:25s)
2025-09-16 21:22:45 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:22:45 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-16 21:22:45 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-16 21:22:45 [Thread-5] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:22:45 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 17964 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:22:45 [restartedMain] INFO  com.xp.XpApplication - The following 1 profile is active: "mysql"
2025-09-16 21:22:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:22:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 3 JPA repository interfaces.
2025-09-16 21:22:45 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:22:45 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:22:45 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:22:45 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:22:45 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 707 ms
2025-09-16 21:22:46 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:22:46 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:22:46 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:22:46 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-09-16 21:22:46 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@39dfc54b
2025-09-16 21:22:46 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-09-16 21:22:46 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:22:46 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-16 21:22:46 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:22:46 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:22:46 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:22:46 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:22:46 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:22:46 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:22:46 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:22:47 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:22:47 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:22:47 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:22:47 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/xpdb?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC&createDatabaseIfNotExist=true'
2025-09-16 21:22:47 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:22:47 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:22:47 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-16 21:22:47 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:22:47 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:22:47 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:22:47 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:22:47 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:22:47 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:22:47 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:22:47 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:22:47 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:22:47 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:22:47 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:22:47 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:22:47 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:22:47 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:22:47 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:22:47 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:22:47 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:22:47 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:22:47 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:22:47 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 70ms (build:0ms init:0ms start:70ms)
2025-09-16 21:22:47 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 2.588 seconds (process running for 35.32)
2025-09-16 21:22:47 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-09-16 21:23:50 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-09-16 21:23:50 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-16 21:23:50 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-16 21:23:50 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is shutting down (timeout:45s)
2025-09-16 21:23:50 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext - Routes stopped (stopped:11)
2025-09-16 21:23:50 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:23:50 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-channel (servlet:/deadletter)
2025-09-16 21:23:50 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-enricher (servlet:/enrich)
2025-09-16 21:23:50 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:23:50 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped load-balancer (servlet:/loadbalance)
2025-09-16 21:23:50 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped content-based-router (servlet:/route)
2025-09-16 21:23:50 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-aggregator (servlet:/aggregate)
2025-09-16 21:23:50 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:23:50 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:23:50 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:23:50 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:23:50 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) shutdown in 11ms (uptime:1m2s)
2025-09-16 21:23:50 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:23:50 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-09-16 21:23:50 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-09-16 21:23:50 [Thread-7] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:23:50 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 17964 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:23:50 [restartedMain] INFO  com.xp.XpApplication - The following 1 profile is active: "mysql"
2025-09-16 21:23:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:23:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 40 ms. Found 3 JPA repository interfaces.
2025-09-16 21:23:51 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:23:51 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:23:51 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:23:51 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:23:51 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1010 ms
2025-09-16 21:23:51 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:23:51 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:23:51 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:23:51 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-09-16 21:23:51 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2a31b505
2025-09-16 21:23:51 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-09-16 21:23:51 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:23:51 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-16 21:23:51 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:23:52 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:23:52 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:23:52 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:23:52 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:23:52 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:23:53 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:23:53 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:23:53 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:23:53 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:23:53 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 253452 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:23:53 [restartedMain] INFO  com.xp.XpApplication - The following 1 profile is active: "mysql"
2025-09-16 21:23:53 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-core\4.0.5\jaxb-core-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.activation-api.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.xml.bind-api.jar
2025-09-16 21:23:53 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-impl\4.0.5\jaxb-impl-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/jaxb-core.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/angus-activation.jar
2025-09-16 21:23:53 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-16 21:23:53 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-16 21:23:53 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/xpdb?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC&createDatabaseIfNotExist=true'
2025-09-16 21:23:53 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:23:53 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:23:53 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-16 21:23:53 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:23:54 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:23:54 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:23:54 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:23:54 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:23:54 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:23:54 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:23:54 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:23:54 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:23:54 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:23:54 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:23:54 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:23:54 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:23:54 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:23:54 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:23:54 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:23:54 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:23:54 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:23:54 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:23:54 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 100ms (build:0ms init:0ms start:100ms)
2025-09-16 21:23:54 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 3.582 seconds (process running for 101.784)
2025-09-16 21:23:54 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-09-16 21:23:54 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:23:55 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 53 ms. Found 3 JPA repository interfaces.
2025-09-16 21:23:55 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:23:55 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:23:55 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:23:55 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:23:55 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2251 ms
2025-09-16 21:23:56 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:23:56 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.13.Final
2025-09-16 21:23:56 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:23:56 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:23:56 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-16 21:23:56 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@31573093
2025-09-16 21:23:56 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-16 21:23:56 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:23:56 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-16 21:23:56 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:23:57 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:23:57 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:23:58 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:23:58 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:23:58 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:23:58 [restartedMain] INFO  o.a.camel.util.concurrent.ThreadType - The type of thread detected is PLATFORM
2025-09-16 21:23:58 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:23:59 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:23:59 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:23:59 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:24:00 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/xpdb?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC&createDatabaseIfNotExist=true'
2025-09-16 21:24:00 [restartedMain] WARN  o.s.b.d.a.OptionalLiveReloadServer - Unable to start LiveReload server
2025-09-16 21:24:00 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-09-16 21:24:00 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:24:00 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-16 21:24:00 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-16 21:24:00 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-09-16 21:24:00 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-09-16 21:24:20 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 3 class path changes (0 additions, 0 deletions, 3 modifications)
2025-09-16 21:24:20 [Thread-11] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-16 21:24:21 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-16 21:24:21 [Thread-11] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is shutting down (timeout:45s)
2025-09-16 21:24:21 [Thread-11] INFO  o.a.c.i.engine.AbstractCamelContext - Routes stopped (stopped:11)
2025-09-16 21:24:21 [Thread-11] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:24:21 [Thread-11] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-channel (servlet:/deadletter)
2025-09-16 21:24:21 [Thread-11] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-enricher (servlet:/enrich)
2025-09-16 21:24:21 [Thread-11] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:24:21 [Thread-11] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped load-balancer (servlet:/loadbalance)
2025-09-16 21:24:21 [Thread-11] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped content-based-router (servlet:/route)
2025-09-16 21:24:21 [Thread-11] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-aggregator (servlet:/aggregate)
2025-09-16 21:24:21 [Thread-11] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:24:21 [Thread-11] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:24:21 [Thread-11] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:24:21 [Thread-11] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:24:21 [Thread-11] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) shutdown in 7ms (uptime:26s)
2025-09-16 21:24:21 [Thread-11] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:24:21 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-09-16 21:24:21 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-09-16 21:24:21 [Thread-11] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:24:21 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 17964 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:24:21 [restartedMain] INFO  com.xp.XpApplication - The following 1 profile is active: "mysql"
2025-09-16 21:24:21 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:24:21 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 3 JPA repository interfaces.
2025-09-16 21:24:21 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:24:21 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:24:21 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:24:21 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:24:21 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 574 ms
2025-09-16 21:24:21 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:24:21 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:24:21 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:24:21 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-09-16 21:24:21 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@30596aae
2025-09-16 21:24:21 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-09-16 21:24:21 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:24:21 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-16 21:24:21 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:24:21 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:24:22 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:24:22 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:24:22 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:24:22 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:24:22 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:24:22 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:24:22 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:24:22 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:24:23 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/xpdb?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC&createDatabaseIfNotExist=true'
2025-09-16 21:24:23 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:24:23 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:24:23 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-16 21:24:23 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:24:23 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:24:23 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:24:23 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:24:23 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:24:23 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:24:23 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:24:23 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:24:23 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:24:23 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:24:23 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:24:23 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:24:23 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:24:23 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:24:23 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:24:23 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:24:23 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:24:23 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:24:23 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:24:23 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 56ms (build:0ms init:0ms start:56ms)
2025-09-16 21:24:23 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 2.283 seconds (process running for 130.908)
2025-09-16 21:24:23 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-09-16 21:24:38 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-09-16 21:24:38 [Thread-15] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-16 21:24:38 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-16 21:24:38 [Thread-15] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is shutting down (timeout:45s)
2025-09-16 21:24:38 [Thread-15] INFO  o.a.c.i.engine.AbstractCamelContext - Routes stopped (stopped:11)
2025-09-16 21:24:38 [Thread-15] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:24:38 [Thread-15] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-channel (servlet:/deadletter)
2025-09-16 21:24:38 [Thread-15] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-enricher (servlet:/enrich)
2025-09-16 21:24:38 [Thread-15] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:24:38 [Thread-15] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped load-balancer (servlet:/loadbalance)
2025-09-16 21:24:38 [Thread-15] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped content-based-router (servlet:/route)
2025-09-16 21:24:38 [Thread-15] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-aggregator (servlet:/aggregate)
2025-09-16 21:24:38 [Thread-15] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:24:38 [Thread-15] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:24:38 [Thread-15] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:24:38 [Thread-15] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:24:38 [Thread-15] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) shutdown in 6ms (uptime:15s)
2025-09-16 21:24:38 [Thread-15] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:24:39 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-09-16 21:24:39 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-09-16 21:24:39 [Thread-15] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:24:39 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 17964 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:24:39 [restartedMain] INFO  com.xp.XpApplication - The following 1 profile is active: "mysql"
2025-09-16 21:24:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:24:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 3 JPA repository interfaces.
2025-09-16 21:24:39 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-09-16 21:24:39 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:24:39 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:24:39 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:24:39 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 516 ms
2025-09-16 21:24:39 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:24:39 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:24:39 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:24:39 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-09-16 21:24:39 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6dcff77d
2025-09-16 21:24:39 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-09-16 21:24:39 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:24:39 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-16 21:24:39 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:24:39 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:24:39 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:24:40 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:24:40 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:24:40 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:24:40 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:24:40 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:24:40 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:24:40 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:24:41 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/xpdb?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC&createDatabaseIfNotExist=true'
2025-09-16 21:24:41 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:24:41 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:24:41 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-09-16 21:24:41 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:24:41 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:24:41 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:24:41 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:24:41 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:24:41 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:24:41 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:24:41 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:24:41 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:24:41 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:24:41 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:24:41 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:24:41 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:24:41 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:24:41 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:24:41 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:24:41 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:24:41 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:24:41 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:24:41 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 69ms (build:0ms init:0ms start:69ms)
2025-09-16 21:24:41 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 2.313 seconds (process running for 148.935)
2025-09-16 21:24:41 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-09-16 21:24:42 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-09-16 21:24:42 [Thread-19] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-16 21:24:42 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-16 21:24:42 [Thread-19] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is shutting down (timeout:45s)
2025-09-16 21:24:42 [Thread-19] INFO  o.a.c.i.engine.AbstractCamelContext - Routes stopped (stopped:11)
2025-09-16 21:24:42 [Thread-19] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:24:42 [Thread-19] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-channel (servlet:/deadletter)
2025-09-16 21:24:42 [Thread-19] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-enricher (servlet:/enrich)
2025-09-16 21:24:42 [Thread-19] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:24:42 [Thread-19] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped load-balancer (servlet:/loadbalance)
2025-09-16 21:24:42 [Thread-19] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped content-based-router (servlet:/route)
2025-09-16 21:24:42 [Thread-19] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-aggregator (servlet:/aggregate)
2025-09-16 21:24:42 [Thread-19] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:24:42 [Thread-19] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:24:42 [Thread-19] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:24:42 [Thread-19] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:24:42 [Thread-19] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) shutdown in 5ms (uptime:1s)
2025-09-16 21:24:42 [Thread-19] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:24:42 [Thread-19] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-09-16 21:24:42 [Thread-19] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-09-16 21:24:42 [Thread-19] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:24:42 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 17964 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:24:42 [restartedMain] INFO  com.xp.XpApplication - The following 1 profile is active: "mysql"
2025-09-16 21:24:43 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:24:43 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
2025-09-16 21:24:43 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-09-16 21:24:43 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:24:43 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:24:43 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:24:43 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 572 ms
2025-09-16 21:24:43 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:24:43 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:24:43 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:24:43 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-09-16 21:24:43 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection com.mysql.cj.jdbc.ConnectionImpl@36bdc0a4
2025-09-16 21:24:43 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-09-16 21:24:43 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:24:43 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-16 21:24:43 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-6)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:24:43 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:24:43 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:24:43 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:24:43 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:24:43 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:24:44 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:24:44 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:24:44 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:24:44 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:24:44 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/xpdb?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC&createDatabaseIfNotExist=true'
2025-09-16 21:24:44 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:24:44 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:24:44 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-09-16 21:24:44 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:24:45 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:24:45 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:24:45 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:24:45 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:24:45 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:24:45 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:24:45 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:24:45 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:24:45 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:24:45 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:24:45 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:24:45 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:24:45 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:24:45 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:24:45 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:24:45 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:24:45 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:24:45 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:24:45 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 68ms (build:0ms init:0ms start:68ms)
2025-09-16 21:24:45 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 2.376 seconds (process running for 152.659)
2025-09-16 21:24:45 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-09-16 21:24:51 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-09-16 21:24:51 [Thread-23] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-16 21:24:51 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-16 21:24:51 [Thread-23] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is shutting down (timeout:45s)
2025-09-16 21:24:51 [Thread-23] INFO  o.a.c.i.engine.AbstractCamelContext - Routes stopped (stopped:11)
2025-09-16 21:24:51 [Thread-23] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:24:51 [Thread-23] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-channel (servlet:/deadletter)
2025-09-16 21:24:51 [Thread-23] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-enricher (servlet:/enrich)
2025-09-16 21:24:51 [Thread-23] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:24:51 [Thread-23] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped load-balancer (servlet:/loadbalance)
2025-09-16 21:24:51 [Thread-23] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped content-based-router (servlet:/route)
2025-09-16 21:24:51 [Thread-23] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-aggregator (servlet:/aggregate)
2025-09-16 21:24:51 [Thread-23] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:24:51 [Thread-23] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:24:51 [Thread-23] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:24:51 [Thread-23] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:24:51 [Thread-23] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) shutdown in 7ms (uptime:6s)
2025-09-16 21:24:51 [Thread-23] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:24:51 [Thread-23] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-09-16 21:24:51 [Thread-23] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-09-16 21:24:51 [Thread-23] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:24:51 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 17964 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:24:51 [restartedMain] INFO  com.xp.XpApplication - The following 1 profile is active: "mysql"
2025-09-16 21:24:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:24:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 3 JPA repository interfaces.
2025-09-16 21:24:52 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-09-16 21:24:52 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:24:52 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:24:52 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:24:52 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 711 ms
2025-09-16 21:24:52 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:24:52 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:24:52 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:24:52 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Starting...
2025-09-16 21:24:52 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-7 - Added connection com.mysql.cj.jdbc.ConnectionImpl@59bb9d69
2025-09-16 21:24:52 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Start completed.
2025-09-16 21:24:52 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:24:52 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-16 21:24:52 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-7)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:24:52 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:24:52 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:24:52 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:24:52 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:24:52 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:24:53 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:24:53 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:24:53 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:24:53 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:24:54 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/xpdb?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC&createDatabaseIfNotExist=true'
2025-09-16 21:24:54 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:24:54 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:24:54 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-09-16 21:24:54 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:24:54 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:24:54 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:24:54 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:24:54 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:24:54 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:24:54 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:24:54 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:24:54 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:24:54 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:24:54 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:24:54 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:24:54 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:24:54 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:24:54 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:24:54 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:24:54 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:24:54 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:24:54 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:24:54 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 61ms (build:0ms init:0ms start:61ms)
2025-09-16 21:24:54 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 2.84 seconds (process running for 162.051)
2025-09-16 21:24:54 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-09-16 21:24:54 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 100912 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:24:54 [restartedMain] INFO  com.xp.XpApplication - The following 1 profile is active: "mysql"
2025-09-16 21:24:54 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-core\4.0.5\jaxb-core-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.activation-api.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.xml.bind-api.jar
2025-09-16 21:24:54 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-impl\4.0.5\jaxb-impl-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/jaxb-core.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/angus-activation.jar
2025-09-16 21:24:54 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-16 21:24:54 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-16 21:24:55 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:24:55 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 48 ms. Found 3 JPA repository interfaces.
2025-09-16 21:24:56 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-09-16 21:24:56 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:24:56 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:24:56 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:24:56 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1883 ms
2025-09-16 21:24:56 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:24:56 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.13.Final
2025-09-16 21:24:56 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:24:57 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:24:57 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-16 21:24:57 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2985be97
2025-09-16 21:24:57 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-16 21:24:57 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:24:57 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-16 21:24:57 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:24:57 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:24:58 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:24:58 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:24:58 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:24:58 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:24:58 [restartedMain] INFO  o.a.camel.util.concurrent.ThreadType - The type of thread detected is PLATFORM
2025-09-16 21:24:59 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:24:59 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:24:59 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:24:59 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:25:00 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/xpdb?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC&createDatabaseIfNotExist=true'
2025-09-16 21:25:00 [restartedMain] WARN  o.s.b.d.a.OptionalLiveReloadServer - Unable to start LiveReload server
2025-09-16 21:25:00 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-09-16 21:25:00 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:25:00 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-16 21:25:00 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-16 21:25:00 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-09-16 21:25:00 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8082 was already in use.

Action:

Identify and stop the process that's listening on port 8082 or configure this application to listen on another port.

2025-09-16 21:25:22 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 254948 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:25:22 [restartedMain] INFO  com.xp.XpApplication - The following 1 profile is active: "mysql"
2025-09-16 21:25:22 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-core\4.0.5\jaxb-core-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.activation-api.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.xml.bind-api.jar
2025-09-16 21:25:22 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-impl\4.0.5\jaxb-impl-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/jaxb-core.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/angus-activation.jar
2025-09-16 21:25:22 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-16 21:25:22 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-16 21:25:23 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:25:23 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 53 ms. Found 3 JPA repository interfaces.
2025-09-16 21:25:23 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-09-16 21:25:23 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:25:23 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:25:24 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:25:24 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1949 ms
2025-09-16 21:25:24 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:25:24 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.13.Final
2025-09-16 21:25:24 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:25:24 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:25:24 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-16 21:25:24 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@10a099e8
2025-09-16 21:25:24 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-16 21:25:24 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:25:24 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-16 21:25:24 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:25:25 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:25:25 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:25:25 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:25:25 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:25:25 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:25:26 [restartedMain] INFO  o.a.camel.util.concurrent.ThreadType - The type of thread detected is PLATFORM
2025-09-16 21:25:26 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:25:26 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:25:27 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:25:27 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:25:27 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/xpdb?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC&createDatabaseIfNotExist=true'
2025-09-16 21:25:27 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:25:27 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:25:27 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-09-16 21:25:27 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:25:28 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:25:28 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:25:28 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:25:28 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:25:28 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:25:28 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:25:28 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:25:28 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:25:28 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:25:28 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:25:28 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:25:28 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:25:28 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:25:28 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:25:28 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:25:28 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:25:28 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:25:28 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:25:28 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 222ms (build:0ms init:0ms start:222ms)
2025-09-16 21:25:28 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 6.793 seconds (process running for 7.171)
2025-09-16 21:25:37 [http-nio-8082-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-16 21:25:37 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-16 21:25:37 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-09-16 21:25:37 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /actuator/health
2025-09-16 21:25:37 [http-nio-8082-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2025-09-16 21:25:37 [http-nio-8082-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:25:37 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /actuator/health
2025-09-16 21:26:55 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui.html
2025-09-16 21:26:55 [http-nio-8082-exec-3] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2025-09-16 21:26:55 [http-nio-8082-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:26:55 [http-nio-8082-exec-3] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8082/swagger-ui.html?continue to session
2025-09-16 21:26:55 [http-nio-8082-exec-3] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-09-16 21:26:55 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-09-16 21:26:55 [http-nio-8082-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:26:55 [http-nio-8082-exec-3] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8082/error?continue to session
2025-09-16 21:26:55 [http-nio-8082-exec-3] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-09-16 21:27:16 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui.html
2025-09-16 21:27:16 [http-nio-8082-exec-2] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2025-09-16 21:27:16 [http-nio-8082-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:27:16 [http-nio-8082-exec-2] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8082/swagger-ui.html?continue to session
2025-09-16 21:27:16 [http-nio-8082-exec-2] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-09-16 21:27:16 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-09-16 21:27:16 [http-nio-8082-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:27:16 [http-nio-8082-exec-2] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8082/error?continue to session
2025-09-16 21:27:16 [http-nio-8082-exec-2] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-09-16 21:27:28 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-09-16 21:27:28 [http-nio-8082-exec-7] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2025-09-16 21:27:28 [http-nio-8082-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:27:28 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-09-16 21:27:34 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api-docs
2025-09-16 21:27:34 [http-nio-8082-exec-9] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2025-09-16 21:27:34 [http-nio-8082-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:27:34 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api-docs
2025-09-16 21:27:34 [http-nio-8082-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)']
2025-09-16 21:27:42 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/products
2025-09-16 21:27:42 [http-nio-8082-exec-10] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2025-09-16 21:27:42 [http-nio-8082-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:27:42 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/products
2025-09-16 21:27:42 [http-nio-8082-exec-10] DEBUG c.x.security.AnomalyDetectionService - New location detected for IP: 0:0:0:0:0:0:0:1
2025-09-16 21:27:42 [http-nio-8082-exec-10] ERROR c.x.s.SecurityAuditEventListener - SECURITY_AUDIT: SECURITY_VIOLATION - User: anonymousUser | Violation: Login from new geographical location | Details: IP: 0:0:0:0:0:0:0:1 | Time: 2025-09-16T21:27:42.308171100 | Timestamp: 2025-09-16T21:27:42.308171100
2025-09-16 21:27:42 [http-nio-8082-exec-10] WARN  c.x.security.AnomalyDetectionService - ANOMALY_DETECTED: User: anonymousUser | Type: Login from new geographical location | IP: 0:0:0:0:0:0:0:1 | Time: 2025-09-16T21:27:42.308171100
2025-09-16 21:27:42 [http-nio-8082-exec-10] INFO  c.x.s.SecurityAuditEventListener - SECURITY_AUDIT: DATA_ACCESS - User: anonymousUser | Resource: /api/products | Action: GET | Info: User: anonymousUser | IP: 0:0:0:0:0:0:0:1 | Timestamp: 2025-09-16T21:27:42.308171100
2025-09-16 21:27:49 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-09-16 21:27:49 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-16 21:27:49 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-16 21:27:49 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is shutting down (timeout:45s)
2025-09-16 21:27:49 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext - Routes stopped (stopped:11)
2025-09-16 21:27:49 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:27:49 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-channel (servlet:/deadletter)
2025-09-16 21:27:49 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-enricher (servlet:/enrich)
2025-09-16 21:27:49 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:27:49 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped load-balancer (servlet:/loadbalance)
2025-09-16 21:27:49 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped content-based-router (servlet:/route)
2025-09-16 21:27:49 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-aggregator (servlet:/aggregate)
2025-09-16 21:27:49 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:27:49 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:27:49 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:27:49 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:27:49 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) shutdown in 21ms (uptime:2m21s)
2025-09-16 21:27:49 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:27:49 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-16 21:27:49 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-16 21:27:49 [Thread-5] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:27:49 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 254948 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:27:49 [restartedMain] INFO  com.xp.XpApplication - The following 1 profile is active: "mysql"
2025-09-16 21:27:50 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:27:50 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 3 JPA repository interfaces.
2025-09-16 21:27:50 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-09-16 21:27:50 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:27:50 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:27:50 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:27:50 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 763 ms
2025-09-16 21:27:50 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:27:50 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:27:50 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:27:50 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-09-16 21:27:50 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3d0ff9b8
2025-09-16 21:27:50 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-09-16 21:27:50 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:27:50 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-16 21:27:50 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:27:50 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:27:51 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:27:51 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:27:51 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:27:51 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:27:51 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:27:51 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:27:51 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:27:51 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:27:52 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/xpdb?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC&createDatabaseIfNotExist=true'
2025-09-16 21:27:52 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:27:52 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:27:52 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-09-16 21:27:52 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:27:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:27:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:27:52 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:27:52 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:27:52 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:27:52 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:27:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:27:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:27:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:27:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:27:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:27:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:27:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:27:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:27:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:27:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:27:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:27:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:27:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 74ms (build:0ms init:0ms start:74ms)
2025-09-16 21:27:52 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 2.786 seconds (process running for 151.236)
2025-09-16 21:27:52 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-09-16 21:27:57 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-09-16 21:27:57 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-16 21:27:57 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-16 21:27:57 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is shutting down (timeout:45s)
2025-09-16 21:27:57 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext - Routes stopped (stopped:11)
2025-09-16 21:27:57 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:27:57 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-channel (servlet:/deadletter)
2025-09-16 21:27:57 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-enricher (servlet:/enrich)
2025-09-16 21:27:57 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:27:57 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped load-balancer (servlet:/loadbalance)
2025-09-16 21:27:57 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped content-based-router (servlet:/route)
2025-09-16 21:27:57 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-aggregator (servlet:/aggregate)
2025-09-16 21:27:57 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:27:57 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:27:57 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:27:57 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:27:57 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) shutdown in 7ms (uptime:5s)
2025-09-16 21:27:57 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:27:58 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-09-16 21:27:58 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-09-16 21:27:58 [Thread-7] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:27:58 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 254948 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:27:58 [restartedMain] INFO  com.xp.XpApplication - The following 1 profile is active: "mysql"
2025-09-16 21:27:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:27:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 3 JPA repository interfaces.
2025-09-16 21:27:58 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-09-16 21:27:58 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:27:58 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:27:58 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:27:58 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 578 ms
2025-09-16 21:27:58 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:27:58 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:27:58 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:27:58 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-09-16 21:27:58 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@79166474
2025-09-16 21:27:58 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-09-16 21:27:58 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:27:58 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-16 21:27:58 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:27:58 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:27:58 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:27:59 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:27:59 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:27:59 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:27:59 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:27:59 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:27:59 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:27:59 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:28:00 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/xpdb?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC&createDatabaseIfNotExist=true'
2025-09-16 21:28:00 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:28:00 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:28:00 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-09-16 21:28:00 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:28:00 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:28:00 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:28:00 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:28:00 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:28:00 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:28:00 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:28:00 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:28:00 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:28:00 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:28:00 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:28:00 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:28:00 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:28:00 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:28:00 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:28:00 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:28:00 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:28:00 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:28:00 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:28:00 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 74ms (build:0ms init:0ms start:74ms)
2025-09-16 21:28:00 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 2.416 seconds (process running for 159.155)
2025-09-16 21:28:00 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-09-16 21:28:19 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 249072 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:28:19 [restartedMain] INFO  com.xp.XpApplication - The following 1 profile is active: "mysql"
2025-09-16 21:28:19 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-core\4.0.5\jaxb-core-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.activation-api.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.xml.bind-api.jar
2025-09-16 21:28:19 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-impl\4.0.5\jaxb-impl-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/jaxb-core.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/angus-activation.jar
2025-09-16 21:28:19 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-16 21:28:19 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-16 21:28:20 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:28:20 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 52 ms. Found 3 JPA repository interfaces.
2025-09-16 21:28:20 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-09-16 21:28:20 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:28:20 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:28:20 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:28:20 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1876 ms
2025-09-16 21:28:21 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:28:21 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.13.Final
2025-09-16 21:28:21 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:28:21 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:28:21 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-16 21:28:21 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1b6b5e06
2025-09-16 21:28:21 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-16 21:28:21 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:28:21 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-16 21:28:21 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:28:22 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:28:22 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:28:22 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:28:23 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:28:23 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:28:23 [restartedMain] INFO  o.a.camel.util.concurrent.ThreadType - The type of thread detected is PLATFORM
2025-09-16 21:28:23 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:28:24 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:28:24 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:28:24 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:28:24 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/xpdb?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC&createDatabaseIfNotExist=true'
2025-09-16 21:28:24 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:28:25 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:28:25 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-09-16 21:28:25 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:28:25 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:28:25 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:28:25 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:28:25 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:28:25 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:28:25 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:28:25 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:28:25 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:28:25 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:28:25 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:28:25 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:28:25 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:28:25 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:28:25 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:28:25 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:28:25 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:28:25 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:28:25 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:28:25 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 235ms (build:0ms init:0ms start:235ms)
2025-09-16 21:28:25 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 7.195 seconds (process running for 7.766)
2025-09-16 21:28:32 [http-nio-8082-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-16 21:28:32 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-16 21:28:32 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-09-16 21:28:32 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-09-16 21:28:32 [http-nio-8082-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2025-09-16 21:28:32 [http-nio-8082-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:28:33 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-09-16 21:28:38 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/products
2025-09-16 21:28:38 [http-nio-8082-exec-4] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2025-09-16 21:28:38 [http-nio-8082-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:28:38 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/products
2025-09-16 21:28:38 [http-nio-8082-exec-4] DEBUG c.x.security.AnomalyDetectionService - New location detected for IP: 0:0:0:0:0:0:0:1
2025-09-16 21:28:38 [http-nio-8082-exec-4] ERROR c.x.s.SecurityAuditEventListener - SECURITY_AUDIT: SECURITY_VIOLATION - User: anonymousUser | Violation: Login from new geographical location | Details: IP: 0:0:0:0:0:0:0:1 | Time: 2025-09-16T21:28:38.065678600 | Timestamp: 2025-09-16T21:28:38.065678600
2025-09-16 21:28:38 [http-nio-8082-exec-4] WARN  c.x.security.AnomalyDetectionService - ANOMALY_DETECTED: User: anonymousUser | Type: Login from new geographical location | IP: 0:0:0:0:0:0:0:1 | Time: 2025-09-16T21:28:38.065678600
2025-09-16 21:28:38 [http-nio-8082-exec-4] INFO  c.x.s.SecurityAuditEventListener - SECURITY_AUDIT: DATA_ACCESS - User: anonymousUser | Resource: /api/products | Action: GET | Info: User: anonymousUser | IP: 0:0:0:0:0:0:0:1 | Timestamp: 2025-09-16T21:28:38.065678600
2025-09-16 21:28:54 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api-docs
2025-09-16 21:28:54 [http-nio-8082-exec-3] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2025-09-16 21:28:54 [http-nio-8082-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:28:54 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api-docs
2025-09-16 21:28:54 [http-nio-8082-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)']
2025-09-16 21:29:12 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-09-16 21:29:12 [http-nio-8082-exec-5] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2025-09-16 21:29:12 [http-nio-8082-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:29:12 [http-nio-8082-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 3A24589C6A551B23AC2CDDC005974E84
2025-09-16 21:29:12 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-09-16 21:29:12 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui.css
2025-09-16 21:29:12 [http-nio-8082-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:29:12 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui.css
2025-09-16 21:29:12 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.css
2025-09-16 21:29:12 [http-nio-8082-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:29:12 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-bundle.js
2025-09-16 21:29:12 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.css
2025-09-16 21:29:12 [http-nio-8082-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:29:12 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-bundle.js
2025-09-16 21:29:12 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-initializer.js
2025-09-16 21:29:12 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-09-16 21:29:12 [http-nio-8082-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:29:12 [http-nio-8082-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:29:12 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-09-16 21:29:12 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-initializer.js
2025-09-16 21:29:12 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api-docs/swagger-config
2025-09-16 21:29:12 [http-nio-8082-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:29:12 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api-docs/swagger-config
2025-09-16 21:29:12 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/favicon-32x32.png
2025-09-16 21:29:12 [http-nio-8082-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:29:12 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/favicon-32x32.png
2025-09-16 21:29:12 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api-docs
2025-09-16 21:29:12 [http-nio-8082-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:29:12 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api-docs
2025-09-16 21:29:12 [http-nio-8082-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)']
2025-09-16 21:29:17 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-09-16 21:29:17 [http-nio-8082-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:29:17 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-09-16 21:29:43 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-09-16 21:29:43 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-16 21:29:43 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-16 21:29:43 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is shutting down (timeout:45s)
2025-09-16 21:29:43 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext - Routes stopped (stopped:11)
2025-09-16 21:29:43 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:29:43 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-channel (servlet:/deadletter)
2025-09-16 21:29:43 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-enricher (servlet:/enrich)
2025-09-16 21:29:43 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:29:43 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped load-balancer (servlet:/loadbalance)
2025-09-16 21:29:43 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped content-based-router (servlet:/route)
2025-09-16 21:29:43 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-aggregator (servlet:/aggregate)
2025-09-16 21:29:43 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:29:43 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:29:43 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:29:43 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:29:43 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) shutdown in 19ms (uptime:1m17s)
2025-09-16 21:29:43 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:29:43 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-16 21:29:43 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-16 21:29:43 [Thread-5] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:29:43 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 249072 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:29:43 [restartedMain] INFO  com.xp.XpApplication - The following 1 profile is active: "mysql"
2025-09-16 21:29:43 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:29:43 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 3 JPA repository interfaces.
2025-09-16 21:29:44 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-09-16 21:29:44 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:29:44 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:29:44 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:29:44 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 559 ms
2025-09-16 21:29:44 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:29:44 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:29:44 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:29:44 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-09-16 21:29:44 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@632c7424
2025-09-16 21:29:44 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-09-16 21:29:44 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:29:44 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-16 21:29:44 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:29:44 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:29:44 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:29:44 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:29:44 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:29:44 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:29:44 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:29:45 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:29:45 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:29:45 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:29:45 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/xpdb?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC&createDatabaseIfNotExist=true'
2025-09-16 21:29:45 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:29:45 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:29:45 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-09-16 21:29:45 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:29:45 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:29:45 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:29:45 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:29:45 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:29:45 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:29:45 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:29:45 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:29:45 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:29:45 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:29:45 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:29:45 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:29:45 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:29:45 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:29:45 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:29:45 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:29:45 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:29:45 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:29:45 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:29:45 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 97ms (build:0ms init:0ms start:97ms)
2025-09-16 21:29:45 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 2.414 seconds (process running for 87.851)
2025-09-16 21:29:45 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-09-16 21:30:01 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 83 class path changes (0 additions, 0 deletions, 83 modifications)
2025-09-16 21:30:01 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-16 21:30:01 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-16 21:30:01 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is shutting down (timeout:45s)
2025-09-16 21:30:01 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext - Routes stopped (stopped:11)
2025-09-16 21:30:01 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:30:01 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-channel (servlet:/deadletter)
2025-09-16 21:30:01 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-enricher (servlet:/enrich)
2025-09-16 21:30:01 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:30:01 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped load-balancer (servlet:/loadbalance)
2025-09-16 21:30:01 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped content-based-router (servlet:/route)
2025-09-16 21:30:01 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-aggregator (servlet:/aggregate)
2025-09-16 21:30:01 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:30:01 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:30:01 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:30:01 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:30:01 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) shutdown in 7ms (uptime:16s)
2025-09-16 21:30:01 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:30:02 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-09-16 21:30:02 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-09-16 21:30:02 [Thread-7] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:30:02 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 249072 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:30:02 [restartedMain] INFO  com.xp.XpApplication - The following 1 profile is active: "mysql"
2025-09-16 21:30:02 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:30:02 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 3 JPA repository interfaces.
2025-09-16 21:30:02 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-09-16 21:30:02 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:30:02 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:30:02 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:30:02 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 551 ms
2025-09-16 21:30:02 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:30:02 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:30:02 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:30:02 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-09-16 21:30:02 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@69893fac
2025-09-16 21:30:02 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-09-16 21:30:02 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:30:02 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-16 21:30:02 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:30:02 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:30:03 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:30:03 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:30:03 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:30:03 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:30:03 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:30:03 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:30:03 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:30:03 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:30:04 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/xpdb?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC&createDatabaseIfNotExist=true'
2025-09-16 21:30:04 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:30:04 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:30:04 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-09-16 21:30:04 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:30:04 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:30:04 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:30:04 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:30:04 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:30:04 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:30:04 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:30:04 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:30:04 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:30:04 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:30:04 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:30:04 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:30:04 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:30:04 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:30:04 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:30:04 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:30:04 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:30:04 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:30:04 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:30:04 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 74ms (build:0ms init:0ms start:74ms)
2025-09-16 21:30:04 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 2.279 seconds (process running for 106.335)
2025-09-16 21:30:04 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-09-16 21:31:25 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 24704 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:31:25 [restartedMain] INFO  com.xp.XpApplication - The following 1 profile is active: "mysql"
2025-09-16 21:31:25 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-core\4.0.5\jaxb-core-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.activation-api.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.xml.bind-api.jar
2025-09-16 21:31:25 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-impl\4.0.5\jaxb-impl-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/jaxb-core.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/angus-activation.jar
2025-09-16 21:31:25 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-16 21:31:25 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-16 21:31:26 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:31:26 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 54 ms. Found 3 JPA repository interfaces.
2025-09-16 21:31:27 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-09-16 21:31:27 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:31:27 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:31:27 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:31:27 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2052 ms
2025-09-16 21:31:27 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:31:27 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.13.Final
2025-09-16 21:31:27 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:31:28 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:31:28 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-16 21:31:28 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@43f5f098
2025-09-16 21:31:28 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-16 21:31:28 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:31:28 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-16 21:31:28 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:31:28 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:31:29 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:31:29 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:31:29 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataLoader' defined in file [C:\Aulas\xp\target\classes\com\xp\config\DataLoader.class]: Failed to instantiate [com.xp.config.DataLoader]: Constructor threw exception
2025-09-16 21:31:29 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:31:29 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-16 21:31:29 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-16 21:31:29 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-09-16 21:31:29 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-09-16 21:31:29 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataLoader' defined in file [C:\Aulas\xp\target\classes\com\xp\config\DataLoader.class]: Failed to instantiate [com.xp.config.DataLoader]: Constructor threw exception
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1349)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1234)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.xp.XpApplication.main(XpApplication.java:12)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.xp.config.DataLoader]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:222)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:122)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1343)
	... 22 common frames omitted
Caused by: java.lang.Error: Unresolved compilation problems: 
	The import com.xp.model cannot be resolved
	The import com.xp.model cannot be resolved
	The import com.xp.model cannot be resolved
	The import com.xp.model cannot be resolved
	The import com.xp.repository cannot be resolved
	The import com.xp.repository cannot be resolved
	The import com.xp.repository cannot be resolved
	ProductRepository cannot be resolved to a type
	UserRepository cannot be resolved to a type
	CustomerRepository cannot be resolved to a type
	ProductRepository cannot be resolved to a type
	ProductRepository cannot be resolved to a type
	Product cannot be resolved to a type
	ProductRepository cannot be resolved to a type
	Product cannot be resolved to a type
	ProductRepository cannot be resolved to a type
	Product cannot be resolved to a type
	ProductRepository cannot be resolved to a type
	Product cannot be resolved to a type
	ProductRepository cannot be resolved to a type
	Product cannot be resolved to a type
	CustomerRepository cannot be resolved to a type
	CustomerRepository cannot be resolved to a type
	Customer cannot be resolved to a type
	CustomerRepository cannot be resolved to a type
	Customer cannot be resolved to a type
	CustomerRepository cannot be resolved to a type
	Customer cannot be resolved to a type
	CustomerRepository cannot be resolved to a type
	Customer cannot be resolved to a type
	CustomerRepository cannot be resolved to a type
	Customer cannot be resolved to a type
	UserRepository cannot be resolved to a type
	UserRepository cannot be resolved to a type
	User cannot be resolved
	Role cannot be resolved to a variable
	UserRepository cannot be resolved to a type
	User cannot be resolved
	Role cannot be resolved to a variable

	at com.xp.config.DataLoader.<init>(DataLoader.java:8)
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:196)
	... 24 common frames omitted
2025-09-16 21:32:14 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 30176 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:32:15 [restartedMain] INFO  com.xp.XpApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-16 21:32:15 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-core\4.0.5\jaxb-core-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.activation-api.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.xml.bind-api.jar
2025-09-16 21:32:15 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-impl\4.0.5\jaxb-impl-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/jaxb-core.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/angus-activation.jar
2025-09-16 21:32:15 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-16 21:32:15 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-16 21:32:16 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:32:16 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 52 ms. Found 3 JPA repository interfaces.
2025-09-16 21:32:17 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (https)
2025-09-16 21:32:17 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:32:17 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:32:17 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:32:17 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2445 ms
2025-09-16 21:32:18 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:32:18 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.13.Final
2025-09-16 21:32:18 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:32:18 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:32:18 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-16 21:32:18 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:xpdb user=SA
2025-09-16 21:32:18 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-16 21:32:19 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:32:19 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:32:19 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:32:19 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:32:20 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:32:20 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataLoader' defined in file [C:\Aulas\xp\target\classes\com\xp\config\DataLoader.class]: Failed to instantiate [com.xp.config.DataLoader]: Constructor threw exception
2025-09-16 21:32:20 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:32:20 [restartedMain] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-09-16 21:32:20 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-16 21:32:20 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-16 21:32:20 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-09-16 21:32:20 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-09-16 21:32:20 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataLoader' defined in file [C:\Aulas\xp\target\classes\com\xp\config\DataLoader.class]: Failed to instantiate [com.xp.config.DataLoader]: Constructor threw exception
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1349)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1234)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.xp.XpApplication.main(XpApplication.java:12)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.xp.config.DataLoader]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:222)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:122)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1343)
	... 22 common frames omitted
Caused by: java.lang.Error: Unresolved compilation problems: 
	The import com.xp.model cannot be resolved
	The import com.xp.model cannot be resolved
	The import com.xp.model cannot be resolved
	The import com.xp.model cannot be resolved
	The import com.xp.repository cannot be resolved
	The import com.xp.repository cannot be resolved
	The import com.xp.repository cannot be resolved
	ProductRepository cannot be resolved to a type
	UserRepository cannot be resolved to a type
	CustomerRepository cannot be resolved to a type
	ProductRepository cannot be resolved to a type
	ProductRepository cannot be resolved to a type
	Product cannot be resolved to a type
	ProductRepository cannot be resolved to a type
	Product cannot be resolved to a type
	ProductRepository cannot be resolved to a type
	Product cannot be resolved to a type
	ProductRepository cannot be resolved to a type
	Product cannot be resolved to a type
	ProductRepository cannot be resolved to a type
	Product cannot be resolved to a type
	CustomerRepository cannot be resolved to a type
	CustomerRepository cannot be resolved to a type
	Customer cannot be resolved to a type
	CustomerRepository cannot be resolved to a type
	Customer cannot be resolved to a type
	CustomerRepository cannot be resolved to a type
	Customer cannot be resolved to a type
	CustomerRepository cannot be resolved to a type
	Customer cannot be resolved to a type
	CustomerRepository cannot be resolved to a type
	Customer cannot be resolved to a type
	UserRepository cannot be resolved to a type
	UserRepository cannot be resolved to a type
	User cannot be resolved
	Role cannot be resolved to a variable
	UserRepository cannot be resolved to a type
	User cannot be resolved
	Role cannot be resolved to a variable

	at com.xp.config.DataLoader.<init>(DataLoader.java:8)
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:196)
	... 24 common frames omitted
2025-09-16 21:33:10 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 149020 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:33:10 [restartedMain] INFO  com.xp.XpApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-16 21:33:10 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-core\4.0.5\jaxb-core-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.activation-api.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.xml.bind-api.jar
2025-09-16 21:33:10 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-impl\4.0.5\jaxb-impl-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/jaxb-core.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/angus-activation.jar
2025-09-16 21:33:10 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-16 21:33:10 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-16 21:33:11 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:33:11 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 50 ms. Found 3 JPA repository interfaces.
2025-09-16 21:33:12 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (https)
2025-09-16 21:33:12 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:33:12 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:33:12 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:33:12 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1913 ms
2025-09-16 21:33:12 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:33:12 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.13.Final
2025-09-16 21:33:12 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:33:13 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:33:13 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-16 21:33:13 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:xpdb user=SA
2025-09-16 21:33:13 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-16 21:33:13 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:33:13 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:33:13 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:33:13 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:33:14 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:33:14 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:33:14 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:33:14 [restartedMain] INFO  o.a.camel.util.concurrent.ThreadType - The type of thread detected is PLATFORM
2025-09-16 21:33:14 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:33:15 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:33:15 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:33:15 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:33:16 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:xpdb'
2025-09-16 21:33:16 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:33:16 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-09-16 21:33:16 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:33:16 [restartedMain] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-09-16 21:33:16 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-16 21:33:16 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-16 21:33:16 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-09-16 21:33:16 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:408)
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:394)
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:586)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:364)
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:310)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.xp.XpApplication.main(XpApplication.java:12)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:251)
	at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:44)
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:405)
	... 17 common frames omitted
Caused by: java.lang.IllegalArgumentException: standardService.connector.startFailed
	at org.apache.catalina.core.StandardService.addConnector(StandardService.java:222)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:310)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:236)
	... 19 common frames omitted
Caused by: org.apache.catalina.LifecycleException: Protocol handler start failed
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1082)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.addConnector(StandardService.java:219)
	... 21 common frames omitted
Caused by: java.lang.IllegalArgumentException: Alias name [xp-app] does not identify a key entry
	at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:114)
	at org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:70)
	at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:200)
	at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1304)
	at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1390)
	at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:644)
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1079)
	... 23 common frames omitted
Caused by: java.io.IOException: Alias name [xp-app] does not identify a key entry
	at org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:376)
	at org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:268)
	at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:112)
	... 29 common frames omitted
2025-09-16 21:33:51 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 251076 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:33:51 [restartedMain] INFO  com.xp.XpApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-16 21:33:51 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-core\4.0.5\jaxb-core-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.activation-api.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.xml.bind-api.jar
2025-09-16 21:33:51 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-impl\4.0.5\jaxb-impl-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/jaxb-core.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/angus-activation.jar
2025-09-16 21:33:51 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-16 21:33:51 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-16 21:33:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:33:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 52 ms. Found 3 JPA repository interfaces.
2025-09-16 21:33:53 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (https)
2025-09-16 21:33:53 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:33:53 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:33:53 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:33:53 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2103 ms
2025-09-16 21:33:53 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:33:53 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.13.Final
2025-09-16 21:33:53 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:33:53 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:33:53 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-16 21:33:53 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:xpdb user=SA
2025-09-16 21:33:53 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-16 21:33:53 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:33:53 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:33:54 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:33:54 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:33:54 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:33:55 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:33:55 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:33:55 [restartedMain] INFO  o.a.camel.util.concurrent.ThreadType - The type of thread detected is PLATFORM
2025-09-16 21:33:55 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:33:56 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:33:56 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:33:56 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:33:56 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:xpdb'
2025-09-16 21:33:56 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:33:57 [restartedMain] INFO  o.a.t.u.net.NioEndpoint.certificate - Connector [https-jsse-nio-8080], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [C:\Users\gabri\.keystore] using alias [xp-app] with trust store [null]
2025-09-16 21:33:57 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:33:57 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (https) with context path '/'
2025-09-16 21:33:57 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:33:57 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:33:57 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:33:57 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:33:57 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:33:57 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:33:57 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:33:57 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:33:57 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:33:57 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:33:57 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:33:57 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:33:57 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:33:57 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:33:57 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:33:57 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:33:57 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:33:57 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:33:57 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:33:57 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 232ms (build:0ms init:0ms start:232ms)
2025-09-16 21:33:57 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 7.144 seconds (process running for 7.511)
2025-09-16 21:33:57 [restartedMain] INFO  com.xp.config.DataLoader - Loading initial data...
2025-09-16 21:33:58 [restartedMain] INFO  com.xp.config.DataLoader - Sample products created successfully
2025-09-16 21:33:58 [restartedMain] INFO  com.xp.config.DataLoader - Sample customers created successfully
2025-09-16 21:33:58 [restartedMain] INFO  com.xp.config.DataLoader - Sample users created successfully
2025-09-16 21:37:36 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 78616 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:37:36 [restartedMain] INFO  com.xp.XpApplication - The following 1 profile is active: "mysql"
2025-09-16 21:37:36 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-core\4.0.5\jaxb-core-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.activation-api.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.xml.bind-api.jar
2025-09-16 21:37:36 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-impl\4.0.5\jaxb-impl-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/jaxb-core.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/angus-activation.jar
2025-09-16 21:37:36 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-16 21:37:36 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-16 21:37:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:37:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 50 ms. Found 3 JPA repository interfaces.
2025-09-16 21:37:38 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-09-16 21:37:38 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:37:38 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:37:38 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:37:38 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1869 ms
2025-09-16 21:37:38 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:37:38 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.13.Final
2025-09-16 21:37:38 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:37:39 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:37:39 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-16 21:37:39 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@a72a38a
2025-09-16 21:37:39 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-16 21:37:39 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:37:39 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-16 21:37:39 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:37:39 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:37:40 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:37:40 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:37:40 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:37:40 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:37:40 [restartedMain] INFO  o.a.camel.util.concurrent.ThreadType - The type of thread detected is PLATFORM
2025-09-16 21:37:41 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:37:41 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:37:41 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:37:41 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:37:42 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/xpdb?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC&createDatabaseIfNotExist=true'
2025-09-16 21:37:42 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:37:42 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:37:42 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-09-16 21:37:42 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:37:42 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:37:42 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:37:42 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:37:42 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:37:42 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:37:42 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:37:42 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:37:42 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:37:42 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:37:42 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:37:42 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:37:42 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:37:42 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:37:42 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:37:42 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:37:42 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:37:42 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:37:42 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:37:42 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 217ms (build:0ms init:0ms start:217ms)
2025-09-16 21:37:42 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 6.608 seconds (process running for 6.956)
2025-09-16 21:37:42 [restartedMain] INFO  com.xp.config.DataLoader - Loading initial data...
2025-09-16 21:37:43 [restartedMain] INFO  com.xp.config.DataLoader - Sample products created successfully
2025-09-16 21:37:43 [restartedMain] INFO  com.xp.config.DataLoader - Sample customers created successfully
2025-09-16 21:37:43 [restartedMain] INFO  com.xp.config.DataLoader - Sample users created successfully
2025-09-16 21:38:54 [http-nio-8082-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-16 21:38:54 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-16 21:38:54 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-09-16 21:38:54 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-09-16 21:38:54 [http-nio-8082-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2025-09-16 21:38:54 [http-nio-8082-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:38:54 [http-nio-8082-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 6824D9AD8740013AF9E53E7DAAD6866B
2025-09-16 21:38:54 [http-nio-8082-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8082/?continue to session
2025-09-16 21:38:54 [http-nio-8082-exec-1] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-09-16 21:38:54 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-09-16 21:38:54 [http-nio-8082-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:38:54 [http-nio-8082-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8082/error?continue to session
2025-09-16 21:38:54 [http-nio-8082-exec-1] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-09-16 21:39:25 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui.html
2025-09-16 21:39:25 [http-nio-8082-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:39:25 [http-nio-8082-exec-5] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8082/swagger-ui.html?continue to session
2025-09-16 21:39:25 [http-nio-8082-exec-5] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-09-16 21:39:25 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-09-16 21:39:25 [http-nio-8082-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:39:25 [http-nio-8082-exec-5] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8082/error?continue to session
2025-09-16 21:39:25 [http-nio-8082-exec-5] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-09-16 21:39:32 [http-nio-8082-exec-6] INFO  o.a.coyote.http11.Http11Processor - Error parsing HTTP request header
 Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.
java.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x060xd20x010x000x060xce0x030x030xbbKu0x120xd90x110x900x170xeff0x80]0xf20x910x120xab6U00x9d0xc00x890xc90xe2P0xef0xce0x960xda0x9780xa4 ]. HTTP method names must be tokens
	at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:403)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-16 21:39:32 [http-nio-8082-exec-8] INFO  o.a.coyote.http11.Http11Processor - Error parsing HTTP request header
 Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.
java.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x060xf20x010x000x060xee0x030x030xe7U0x850xb060x03c0xe90xb8Phz0x9f0x0e0xabE0xd90xe50x9a4M0x900xf30x08i1k0xfau0x8a0x010xfa ]. HTTP method names must be tokens
	at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:403)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-16 21:40:13 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-09-16 21:40:13 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-16 21:40:13 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-16 21:40:13 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is shutting down (timeout:45s)
2025-09-16 21:40:13 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext - Routes stopped (stopped:11)
2025-09-16 21:40:13 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:40:13 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-channel (servlet:/deadletter)
2025-09-16 21:40:13 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-enricher (servlet:/enrich)
2025-09-16 21:40:13 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:40:13 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped load-balancer (servlet:/loadbalance)
2025-09-16 21:40:13 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped content-based-router (servlet:/route)
2025-09-16 21:40:13 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-aggregator (servlet:/aggregate)
2025-09-16 21:40:13 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:40:13 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:40:13 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:40:13 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:40:13 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) shutdown in 21ms (uptime:2m30s)
2025-09-16 21:40:13 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:40:13 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-16 21:40:13 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-16 21:40:13 [Thread-5] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:40:13 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 78616 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:40:13 [restartedMain] INFO  com.xp.XpApplication - The following 1 profile is active: "mysql"
2025-09-16 21:40:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:40:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 3 JPA repository interfaces.
2025-09-16 21:40:14 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-09-16 21:40:14 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:40:14 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:40:14 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:40:14 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 753 ms
2025-09-16 21:40:14 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:40:14 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:40:14 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:40:14 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-09-16 21:40:14 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7633cb0d
2025-09-16 21:40:14 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-09-16 21:40:14 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:40:14 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-16 21:40:14 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:40:14 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:40:14 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:40:14 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:40:14 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:40:14 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:40:15 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:40:15 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:40:15 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:40:15 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:40:16 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/xpdb?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC&createDatabaseIfNotExist=true'
2025-09-16 21:40:16 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:40:16 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:40:16 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-09-16 21:40:16 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:40:16 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:40:16 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:40:16 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:40:16 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:40:16 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:40:16 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:40:16 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:40:16 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:40:16 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:40:16 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:40:16 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:40:16 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:40:16 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:40:16 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:40:16 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:40:16 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:40:16 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:40:16 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:40:16 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 117ms (build:0ms init:0ms start:117ms)
2025-09-16 21:40:16 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 3.154 seconds (process running for 160.65)
2025-09-16 21:40:16 [restartedMain] INFO  com.xp.config.DataLoader - Loading initial data...
2025-09-16 21:40:16 [restartedMain] INFO  com.xp.config.DataLoader - Sample products created successfully
2025-09-16 21:40:16 [restartedMain] INFO  com.xp.config.DataLoader - Sample customers created successfully
2025-09-16 21:40:16 [restartedMain] INFO  com.xp.config.DataLoader - Sample users created successfully
2025-09-16 21:40:16 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-09-16 21:40:18 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-09-16 21:40:18 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-16 21:40:18 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-16 21:40:18 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is shutting down (timeout:45s)
2025-09-16 21:40:18 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext - Routes stopped (stopped:11)
2025-09-16 21:40:18 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:40:18 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-channel (servlet:/deadletter)
2025-09-16 21:40:18 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-enricher (servlet:/enrich)
2025-09-16 21:40:18 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:40:18 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped load-balancer (servlet:/loadbalance)
2025-09-16 21:40:18 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped content-based-router (servlet:/route)
2025-09-16 21:40:18 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-aggregator (servlet:/aggregate)
2025-09-16 21:40:18 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:40:18 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:40:18 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:40:18 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:40:18 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) shutdown in 6ms (uptime:2s)
2025-09-16 21:40:18 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:40:18 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-09-16 21:40:18 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-09-16 21:40:18 [Thread-7] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:40:18 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 78616 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:40:18 [restartedMain] INFO  com.xp.XpApplication - The following 1 profile is active: "mysql"
2025-09-16 21:40:19 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:40:19 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 3 JPA repository interfaces.
2025-09-16 21:40:19 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-09-16 21:40:19 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:40:19 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:40:19 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:40:19 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 605 ms
2025-09-16 21:40:19 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:40:19 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:40:19 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:40:19 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-09-16 21:40:19 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6f3e1437
2025-09-16 21:40:19 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-09-16 21:40:19 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:40:19 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-16 21:40:19 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:40:19 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:40:19 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:40:20 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:40:20 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:40:20 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:40:20 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:40:20 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:40:20 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:40:20 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:40:21 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/xpdb?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC&createDatabaseIfNotExist=true'
2025-09-16 21:40:21 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:40:21 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:40:21 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-09-16 21:40:21 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:40:21 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:40:21 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:40:21 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:40:21 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:40:21 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:40:21 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:40:21 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:40:21 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:40:21 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:40:21 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:40:21 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:40:21 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:40:21 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:40:21 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:40:21 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:40:21 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:40:21 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:40:21 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:40:21 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 67ms (build:0ms init:0ms start:67ms)
2025-09-16 21:40:21 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 2.559 seconds (process running for 165.429)
2025-09-16 21:40:21 [restartedMain] INFO  com.xp.config.DataLoader - Loading initial data...
2025-09-16 21:40:21 [restartedMain] INFO  com.xp.config.DataLoader - Sample products created successfully
2025-09-16 21:40:21 [restartedMain] INFO  com.xp.config.DataLoader - Sample customers created successfully
2025-09-16 21:40:21 [restartedMain] INFO  com.xp.config.DataLoader - Sample users created successfully
2025-09-16 21:40:21 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-09-16 21:40:22 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-09-16 21:40:22 [Thread-11] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-16 21:40:22 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-16 21:40:22 [Thread-11] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is shutting down (timeout:45s)
2025-09-16 21:40:22 [Thread-11] INFO  o.a.c.i.engine.AbstractCamelContext - Routes stopped (stopped:11)
2025-09-16 21:40:22 [Thread-11] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:40:22 [Thread-11] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-channel (servlet:/deadletter)
2025-09-16 21:40:22 [Thread-11] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-enricher (servlet:/enrich)
2025-09-16 21:40:22 [Thread-11] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:40:22 [Thread-11] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped load-balancer (servlet:/loadbalance)
2025-09-16 21:40:22 [Thread-11] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped content-based-router (servlet:/route)
2025-09-16 21:40:22 [Thread-11] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-aggregator (servlet:/aggregate)
2025-09-16 21:40:22 [Thread-11] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:40:22 [Thread-11] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:40:22 [Thread-11] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:40:22 [Thread-11] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:40:22 [Thread-11] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) shutdown in 8ms (uptime:1s)
2025-09-16 21:40:22 [Thread-11] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:40:22 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-09-16 21:40:22 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-09-16 21:40:22 [Thread-11] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:40:22 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 78616 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:40:22 [restartedMain] INFO  com.xp.XpApplication - The following 1 profile is active: "mysql"
2025-09-16 21:40:23 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:40:23 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 3 JPA repository interfaces.
2025-09-16 21:40:23 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-09-16 21:40:23 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:40:23 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:40:23 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:40:23 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 551 ms
2025-09-16 21:40:23 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:40:23 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:40:23 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:40:23 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-09-16 21:40:23 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2c183456
2025-09-16 21:40:23 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-09-16 21:40:23 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:40:23 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-16 21:40:23 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:40:23 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:40:23 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:40:23 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:40:23 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:40:23 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:40:24 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:40:24 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:40:24 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:40:24 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:40:24 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/xpdb?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC&createDatabaseIfNotExist=true'
2025-09-16 21:40:24 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:40:24 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:40:24 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-09-16 21:40:24 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:40:24 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:40:24 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:40:24 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:40:24 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:40:25 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:40:25 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:40:25 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:40:25 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:40:25 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:40:25 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:40:25 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:40:25 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:40:25 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:40:25 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:40:25 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:40:25 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:40:25 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:40:25 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:40:25 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 55ms (build:0ms init:0ms start:55ms)
2025-09-16 21:40:25 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 2.195 seconds (process running for 168.997)
2025-09-16 21:40:25 [restartedMain] INFO  com.xp.config.DataLoader - Loading initial data...
2025-09-16 21:40:25 [restartedMain] INFO  com.xp.config.DataLoader - Sample products created successfully
2025-09-16 21:40:25 [restartedMain] INFO  com.xp.config.DataLoader - Sample customers created successfully
2025-09-16 21:40:25 [restartedMain] INFO  com.xp.config.DataLoader - Sample users created successfully
2025-09-16 21:40:25 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-09-16 21:40:54 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 226796 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:40:54 [restartedMain] INFO  com.xp.XpApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-16 21:40:54 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-core\4.0.5\jaxb-core-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.activation-api.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.xml.bind-api.jar
2025-09-16 21:40:54 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-impl\4.0.5\jaxb-impl-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/jaxb-core.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/angus-activation.jar
2025-09-16 21:40:54 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-16 21:40:54 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-16 21:40:55 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:40:55 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 53 ms. Found 3 JPA repository interfaces.
2025-09-16 21:40:55 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:40:55 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:40:55 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:40:55 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:40:55 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1816 ms
2025-09-16 21:40:56 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:40:56 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.13.Final
2025-09-16 21:40:56 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:40:56 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:40:56 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-16 21:40:56 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:xpdb user=SA
2025-09-16 21:40:56 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-16 21:40:56 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:40:56 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:40:57 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:40:57 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:40:57 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:40:57 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:40:57 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:40:57 [restartedMain] INFO  o.a.camel.util.concurrent.ThreadType - The type of thread detected is PLATFORM
2025-09-16 21:40:58 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:40:58 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:40:58 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:40:58 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:40:59 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:xpdb'
2025-09-16 21:40:59 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:40:59 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:40:59 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-16 21:40:59 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:41:00 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:41:00 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:41:00 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:41:00 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:41:00 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:41:00 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:41:00 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:41:00 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:41:00 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:41:00 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:41:00 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:41:00 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:41:00 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:41:00 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:41:00 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:41:00 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:41:00 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:41:00 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:41:00 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 214ms (build:0ms init:0ms start:214ms)
2025-09-16 21:41:00 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 6.557 seconds (process running for 6.899)
2025-09-16 21:41:00 [restartedMain] INFO  com.xp.config.DataLoader - Loading initial data...
2025-09-16 21:41:00 [restartedMain] INFO  com.xp.config.DataLoader - Sample products created successfully
2025-09-16 21:41:00 [restartedMain] INFO  com.xp.config.DataLoader - Sample customers created successfully
2025-09-16 21:41:00 [restartedMain] INFO  com.xp.config.DataLoader - Sample users created successfully
2025-09-16 21:41:11 [http-nio-8080-exec-1] INFO  o.a.coyote.http11.Http11Processor - Error parsing HTTP request header
 Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.
java.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x060xd20x010x000x060xce0x030x0330xba7-e0xdd0xbd0xc80x04*M0xaa00xfc0xae0xe00xbe^0x0d0x7f0xe60xb4! ]. HTTP method names must be tokens
	at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:403)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-16 21:41:11 [http-nio-8080-exec-3] INFO  o.a.coyote.http11.Http11Processor - Error parsing HTTP request header
 Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.
java.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x070x120x010x000x070x0e0x030x03#0xf8hZ0x0bu0xfa0x060xe70xf90xe40x9d0x1550x9050xdf0x9a0x96jLs<Jzp0xe10xcf0x960xc40xe60xe3 ]. HTTP method names must be tokens
	at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:403)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-16 21:41:13 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-16 21:41:13 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-16 21:41:13 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-09-16 21:41:13 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-09-16 21:41:13 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2025-09-16 21:41:13 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:41:13 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id AA63906F3BEAC9DEF5AAAB83EF419989
2025-09-16 21:41:13 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/?continue to session
2025-09-16 21:41:13 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-09-16 21:41:13 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-09-16 21:41:13 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:41:13 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/error?continue to session
2025-09-16 21:41:13 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-09-16 21:41:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-09-16 21:41:13 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:41:13 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/?continue to session
2025-09-16 21:41:13 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-09-16 21:41:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-09-16 21:41:13 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:41:13 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/error?continue to session
2025-09-16 21:41:13 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-09-16 21:41:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui.html
2025-09-16 21:41:26 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:41:26 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/swagger-ui.html?continue to session
2025-09-16 21:41:26 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-09-16 21:41:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-09-16 21:41:26 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:41:26 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/error?continue to session
2025-09-16 21:41:26 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-09-16 21:42:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui.html
2025-09-16 21:42:20 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:42:20 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/swagger-ui.html?continue to session
2025-09-16 21:42:20 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-09-16 21:42:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-09-16 21:42:20 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:42:20 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/error?continue to session
2025-09-16 21:42:20 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-09-16 21:42:49 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-09-16 21:42:49 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-16 21:42:49 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-16 21:42:49 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is shutting down (timeout:45s)
2025-09-16 21:42:49 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext - Routes stopped (stopped:11)
2025-09-16 21:42:49 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:42:49 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-channel (servlet:/deadletter)
2025-09-16 21:42:49 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-enricher (servlet:/enrich)
2025-09-16 21:42:49 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:42:49 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped load-balancer (servlet:/loadbalance)
2025-09-16 21:42:49 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped content-based-router (servlet:/route)
2025-09-16 21:42:49 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-aggregator (servlet:/aggregate)
2025-09-16 21:42:49 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:42:49 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:42:49 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:42:49 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:42:49 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) shutdown in 14ms (uptime:1m49s)
2025-09-16 21:42:49 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:42:49 [Thread-5] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-09-16 21:42:49 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-16 21:42:49 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-16 21:42:49 [Thread-5] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:42:49 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 226796 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:42:49 [restartedMain] INFO  com.xp.XpApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-16 21:42:50 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:42:50 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 41 ms. Found 3 JPA repository interfaces.
2025-09-16 21:42:50 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:42:50 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:42:50 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:42:50 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:42:50 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 701 ms
2025-09-16 21:42:50 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:42:50 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:42:50 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:42:50 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-09-16 21:42:50 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:xpdb user=SA
2025-09-16 21:42:50 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-09-16 21:42:50 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:42:50 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:42:50 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:42:50 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:42:50 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:42:50 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:42:50 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:42:51 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:42:51 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:42:51 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:42:51 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:42:51 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:xpdb'
2025-09-16 21:42:51 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:42:52 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:42:52 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-16 21:42:52 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:42:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:42:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:42:52 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:42:52 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:42:52 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:42:52 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:42:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:42:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:42:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:42:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:42:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:42:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:42:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:42:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:42:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:42:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:42:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:42:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:42:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 106ms (build:0ms init:0ms start:106ms)
2025-09-16 21:42:52 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 2.499 seconds (process running for 118.846)
2025-09-16 21:42:52 [restartedMain] INFO  com.xp.config.DataLoader - Loading initial data...
2025-09-16 21:42:52 [restartedMain] INFO  com.xp.config.DataLoader - Sample products created successfully
2025-09-16 21:42:52 [restartedMain] INFO  com.xp.config.DataLoader - Sample customers created successfully
2025-09-16 21:42:52 [restartedMain] INFO  com.xp.config.DataLoader - Sample users created successfully
2025-09-16 21:42:52 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-09-16 21:42:54 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-09-16 21:42:54 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-16 21:42:54 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-16 21:42:54 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is shutting down (timeout:45s)
2025-09-16 21:42:54 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext - Routes stopped (stopped:11)
2025-09-16 21:42:54 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:42:54 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-channel (servlet:/deadletter)
2025-09-16 21:42:54 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-enricher (servlet:/enrich)
2025-09-16 21:42:54 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:42:54 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped load-balancer (servlet:/loadbalance)
2025-09-16 21:42:54 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped content-based-router (servlet:/route)
2025-09-16 21:42:54 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-aggregator (servlet:/aggregate)
2025-09-16 21:42:54 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:42:54 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:42:54 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:42:54 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:42:54 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) shutdown in 6ms (uptime:2s)
2025-09-16 21:42:54 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:42:54 [Thread-7] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-09-16 21:42:54 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-09-16 21:42:54 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-09-16 21:42:54 [Thread-7] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:42:54 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 226796 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:42:54 [restartedMain] INFO  com.xp.XpApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-16 21:42:55 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:42:55 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 3 JPA repository interfaces.
2025-09-16 21:42:55 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:42:55 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:42:55 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:42:55 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:42:55 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 702 ms
2025-09-16 21:42:55 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:42:55 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:42:55 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:42:55 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-09-16 21:42:55 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection conn20: url=jdbc:h2:mem:xpdb user=SA
2025-09-16 21:42:55 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-09-16 21:42:55 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:42:55 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:42:55 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:42:55 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:42:55 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:42:55 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:42:55 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:42:55 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:42:56 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:42:56 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:42:56 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:42:56 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:xpdb'
2025-09-16 21:42:56 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:42:56 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:42:56 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-16 21:42:56 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:42:56 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:42:56 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:42:56 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:42:56 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:42:56 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:42:56 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:42:56 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:42:56 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:42:56 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:42:56 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:42:56 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:42:56 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:42:56 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:42:56 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:42:56 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:42:56 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:42:56 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:42:56 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:42:56 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 61ms (build:0ms init:0ms start:61ms)
2025-09-16 21:42:56 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 2.417 seconds (process running for 123.533)
2025-09-16 21:42:56 [restartedMain] INFO  com.xp.config.DataLoader - Loading initial data...
2025-09-16 21:42:56 [restartedMain] INFO  com.xp.config.DataLoader - Sample products created successfully
2025-09-16 21:42:56 [restartedMain] INFO  com.xp.config.DataLoader - Sample customers created successfully
2025-09-16 21:42:57 [restartedMain] INFO  com.xp.config.DataLoader - Sample users created successfully
2025-09-16 21:42:57 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-09-16 21:42:59 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-09-16 21:42:59 [Thread-12] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-16 21:42:59 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-16 21:42:59 [Thread-12] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is shutting down (timeout:45s)
2025-09-16 21:42:59 [Thread-12] INFO  o.a.c.i.engine.AbstractCamelContext - Routes stopped (stopped:11)
2025-09-16 21:42:59 [Thread-12] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:42:59 [Thread-12] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-channel (servlet:/deadletter)
2025-09-16 21:42:59 [Thread-12] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-enricher (servlet:/enrich)
2025-09-16 21:42:59 [Thread-12] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:42:59 [Thread-12] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped load-balancer (servlet:/loadbalance)
2025-09-16 21:42:59 [Thread-12] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped content-based-router (servlet:/route)
2025-09-16 21:42:59 [Thread-12] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-aggregator (servlet:/aggregate)
2025-09-16 21:42:59 [Thread-12] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:42:59 [Thread-12] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:42:59 [Thread-12] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:42:59 [Thread-12] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:42:59 [Thread-12] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) shutdown in 9ms (uptime:2s)
2025-09-16 21:42:59 [Thread-12] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:42:59 [Thread-12] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-09-16 21:42:59 [Thread-12] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-09-16 21:42:59 [Thread-12] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-09-16 21:42:59 [Thread-12] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:42:59 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 226796 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:42:59 [restartedMain] INFO  com.xp.XpApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-16 21:42:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:42:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 3 JPA repository interfaces.
2025-09-16 21:42:59 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:42:59 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:42:59 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:42:59 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:42:59 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 652 ms
2025-09-16 21:43:00 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:43:00 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:43:00 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:43:00 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-09-16 21:43:00 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection conn30: url=jdbc:h2:mem:xpdb user=SA
2025-09-16 21:43:00 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-09-16 21:43:00 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:43:00 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:43:00 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:43:00 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:43:00 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:43:00 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:43:00 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:43:00 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:43:00 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:43:00 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:43:01 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:43:01 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:xpdb'
2025-09-16 21:43:01 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:43:01 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:43:01 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-16 21:43:01 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:43:01 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:43:01 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:43:01 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:43:01 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:43:01 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:43:01 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:43:01 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:43:01 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:43:01 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:43:01 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:43:01 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:43:01 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:43:01 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:43:01 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:43:01 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:43:01 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:43:01 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:43:01 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:43:01 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 77ms (build:0ms init:0ms start:77ms)
2025-09-16 21:43:01 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 2.291 seconds (process running for 128.171)
2025-09-16 21:43:01 [restartedMain] INFO  com.xp.config.DataLoader - Loading initial data...
2025-09-16 21:43:01 [restartedMain] INFO  com.xp.config.DataLoader - Sample products created successfully
2025-09-16 21:43:01 [restartedMain] INFO  com.xp.config.DataLoader - Sample customers created successfully
2025-09-16 21:43:01 [restartedMain] INFO  com.xp.config.DataLoader - Sample users created successfully
2025-09-16 21:43:01 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-09-16 21:43:12 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-09-16 21:43:12 [Thread-16] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-16 21:43:12 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-16 21:43:12 [Thread-16] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is shutting down (timeout:45s)
2025-09-16 21:43:12 [Thread-16] INFO  o.a.c.i.engine.AbstractCamelContext - Routes stopped (stopped:11)
2025-09-16 21:43:12 [Thread-16] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:43:12 [Thread-16] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-channel (servlet:/deadletter)
2025-09-16 21:43:12 [Thread-16] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-enricher (servlet:/enrich)
2025-09-16 21:43:12 [Thread-16] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:43:12 [Thread-16] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped load-balancer (servlet:/loadbalance)
2025-09-16 21:43:12 [Thread-16] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped content-based-router (servlet:/route)
2025-09-16 21:43:12 [Thread-16] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-aggregator (servlet:/aggregate)
2025-09-16 21:43:12 [Thread-16] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:43:12 [Thread-16] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:43:12 [Thread-16] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:43:12 [Thread-16] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:43:12 [Thread-16] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) shutdown in 4ms (uptime:10s)
2025-09-16 21:43:12 [Thread-16] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:43:12 [Thread-16] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-09-16 21:43:12 [Thread-16] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-09-16 21:43:12 [Thread-16] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-09-16 21:43:12 [Thread-16] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:43:12 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 226796 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:43:12 [restartedMain] INFO  com.xp.XpApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-16 21:43:12 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:43:12 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 3 JPA repository interfaces.
2025-09-16 21:43:12 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:43:12 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:43:12 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:43:12 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:43:12 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 480 ms
2025-09-16 21:43:12 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:43:12 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:43:12 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:43:12 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-09-16 21:43:12 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection conn40: url=jdbc:h2:mem:xpdb user=SA
2025-09-16 21:43:12 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-09-16 21:43:12 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:43:12 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:43:12 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:43:12 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:43:12 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:43:12 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:43:12 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:43:13 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:43:13 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:43:13 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:43:13 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:43:13 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:xpdb'
2025-09-16 21:43:13 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:43:13 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:43:13 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-16 21:43:13 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:43:14 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:43:14 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:43:14 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:43:14 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:43:14 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:43:14 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:43:14 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:43:14 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:43:14 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:43:14 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:43:14 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:43:14 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:43:14 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:43:14 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:43:14 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:43:14 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:43:14 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:43:14 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:43:14 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 60ms (build:0ms init:0ms start:60ms)
2025-09-16 21:43:14 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 2.005 seconds (process running for 140.713)
2025-09-16 21:43:14 [restartedMain] INFO  com.xp.config.DataLoader - Loading initial data...
2025-09-16 21:43:14 [restartedMain] INFO  com.xp.config.DataLoader - Sample products created successfully
2025-09-16 21:43:14 [restartedMain] INFO  com.xp.config.DataLoader - Sample customers created successfully
2025-09-16 21:43:14 [restartedMain] INFO  com.xp.config.DataLoader - Sample users created successfully
2025-09-16 21:43:14 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-09-16 21:43:15 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-16 21:43:15 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-16 21:43:15 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-09-16 21:43:15 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /actuator/health
2025-09-16 21:43:15 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:43:15 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /actuator/health
2025-09-16 21:43:15 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-09-16 21:43:15 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:43:15 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-09-16 21:43:15 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-09-16 21:43:15 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-09-16 21:43:15 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:43:37 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing HEAD /actuator/health
2025-09-16 21:43:37 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2025-09-16 21:43:37 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:43:37 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured HEAD /actuator/health
2025-09-16 21:43:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing HEAD /swagger-ui.html
2025-09-16 21:43:41 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2025-09-16 21:43:41 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:43:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured HEAD /swagger-ui.html
2025-09-16 21:43:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing HEAD /swagger-ui/index.html
2025-09-16 21:43:41 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:43:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured HEAD /swagger-ui/index.html
2025-09-16 21:43:50 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-09-16 21:43:50 [Thread-20] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-16 21:43:50 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-16 21:43:50 [Thread-20] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is shutting down (timeout:45s)
2025-09-16 21:43:50 [Thread-20] INFO  o.a.c.i.engine.AbstractCamelContext - Routes stopped (stopped:11)
2025-09-16 21:43:50 [Thread-20] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:43:50 [Thread-20] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-channel (servlet:/deadletter)
2025-09-16 21:43:50 [Thread-20] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-enricher (servlet:/enrich)
2025-09-16 21:43:50 [Thread-20] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:43:50 [Thread-20] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped load-balancer (servlet:/loadbalance)
2025-09-16 21:43:50 [Thread-20] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped content-based-router (servlet:/route)
2025-09-16 21:43:50 [Thread-20] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-aggregator (servlet:/aggregate)
2025-09-16 21:43:50 [Thread-20] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:43:50 [Thread-20] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:43:50 [Thread-20] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:43:50 [Thread-20] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:43:50 [Thread-20] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) shutdown in 5ms (uptime:36s)
2025-09-16 21:43:50 [Thread-20] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:43:50 [Thread-20] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-09-16 21:43:50 [Thread-20] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-09-16 21:43:50 [Thread-20] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-09-16 21:43:50 [Thread-20] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:43:50 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 226796 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:43:50 [restartedMain] INFO  com.xp.XpApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-16 21:43:50 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:43:50 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 3 JPA repository interfaces.
2025-09-16 21:43:50 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:43:50 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:43:50 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:43:50 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:43:50 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 563 ms
2025-09-16 21:43:50 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:43:50 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:43:50 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:43:50 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-09-16 21:43:50 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection conn50: url=jdbc:h2:mem:xpdb user=SA
2025-09-16 21:43:50 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-09-16 21:43:50 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:43:50 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-6)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:43:50 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:43:50 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:43:51 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:43:51 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:43:51 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:43:51 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:43:51 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:43:51 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:43:51 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:43:52 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:xpdb'
2025-09-16 21:43:52 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:43:52 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:43:52 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-16 21:43:52 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-16 21:43:52 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-16 21:43:52 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-09-16 21:43:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui.html
2025-09-16 21:43:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:43:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui.html
2025-09-16 21:43:52 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:43:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-09-16 21:43:52 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:43:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-09-16 21:43:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui.css
2025-09-16 21:43:52 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:43:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui.css
2025-09-16 21:43:52 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.css
2025-09-16 21:43:52 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:43:52 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.css
2025-09-16 21:43:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-09-16 21:43:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-initializer.js
2025-09-16 21:43:52 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:43:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-bundle.js
2025-09-16 21:43:52 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:43:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-09-16 21:43:52 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:43:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-initializer.js
2025-09-16 21:43:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-bundle.js
2025-09-16 21:43:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:43:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:43:52 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:43:52 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:43:52 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:43:52 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:43:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:43:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:43:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:43:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:43:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:43:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:43:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:43:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:43:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:43:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:43:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:43:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:43:52 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 80ms (build:0ms init:0ms start:80ms)
2025-09-16 21:43:52 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 2.358 seconds (process running for 179.159)
2025-09-16 21:43:52 [restartedMain] INFO  com.xp.config.DataLoader - Loading initial data...
2025-09-16 21:43:52 [restartedMain] INFO  com.xp.config.DataLoader - Sample products created successfully
2025-09-16 21:43:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api-docs/swagger-config
2025-09-16 21:43:52 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:43:52 [restartedMain] INFO  com.xp.config.DataLoader - Sample customers created successfully
2025-09-16 21:43:52 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/favicon-32x32.png
2025-09-16 21:43:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api-docs/swagger-config
2025-09-16 21:43:52 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:43:52 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/favicon-32x32.png
2025-09-16 21:43:52 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api-docs
2025-09-16 21:43:52 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:43:52 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api-docs
2025-09-16 21:43:52 [restartedMain] INFO  com.xp.config.DataLoader - Sample users created successfully
2025-09-16 21:43:52 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-09-16 21:43:52 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)']
2025-09-16 21:43:56 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-09-16 21:43:56 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:43:56 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-09-16 21:43:58 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /actuator/health
2025-09-16 21:43:58 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:43:58 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /actuator/health
2025-09-16 21:43:58 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-09-16 21:43:58 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:43:58 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-09-16 21:43:58 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-09-16 21:43:58 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-09-16 21:43:58 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:43:59 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-09-16 21:43:59 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:43:59 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-09-16 21:43:59 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.css
2025-09-16 21:43:59 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui.css
2025-09-16 21:43:59 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-09-16 21:43:59 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:43:59 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-bundle.js
2025-09-16 21:43:59 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:43:59 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:43:59 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui.css
2025-09-16 21:43:59 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.css
2025-09-16 21:43:59 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:43:59 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-09-16 21:43:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-initializer.js
2025-09-16 21:43:59 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-bundle.js
2025-09-16 21:43:59 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:43:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-initializer.js
2025-09-16 21:43:59 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api-docs/swagger-config
2025-09-16 21:43:59 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:43:59 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api-docs/swagger-config
2025-09-16 21:43:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api-docs
2025-09-16 21:43:59 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:43:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api-docs
2025-09-16 21:43:59 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)']
2025-09-16 21:44:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api-docs
2025-09-16 21:44:08 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:44:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api-docs
2025-09-16 21:44:08 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)']
2025-09-16 21:44:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-09-16 21:44:08 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:44:08 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-09-16 21:44:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-09-16 21:44:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-09-16 21:44:08 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:44:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-09-16 21:44:12 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:44:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-09-16 21:44:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.css
2025-09-16 21:44:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-bundle.js
2025-09-16 21:44:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui.css
2025-09-16 21:44:12 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:44:12 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:44:12 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:44:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.css
2025-09-16 21:44:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-bundle.js
2025-09-16 21:44:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-09-16 21:44:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui.css
2025-09-16 21:44:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-initializer.js
2025-09-16 21:44:12 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:44:12 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:44:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-09-16 21:44:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-initializer.js
2025-09-16 21:44:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api-docs/swagger-config
2025-09-16 21:44:12 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:44:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api-docs/swagger-config
2025-09-16 21:44:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api-docs
2025-09-16 21:44:12 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:44:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api-docs
2025-09-16 21:44:12 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)']
2025-09-16 21:44:27 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api-docs
2025-09-16 21:44:27 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2025-09-16 21:44:27 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:44:27 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api-docs
2025-09-16 21:44:27 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)']
2025-09-16 21:44:46 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 90 class path changes (0 additions, 11 deletions, 79 modifications)
2025-09-16 21:44:46 [Thread-24] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-16 21:44:46 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-16 21:44:46 [Thread-24] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is shutting down (timeout:45s)
2025-09-16 21:44:46 [Thread-24] INFO  o.a.c.i.engine.AbstractCamelContext - Routes stopped (stopped:11)
2025-09-16 21:44:46 [Thread-24] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:44:46 [Thread-24] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-channel (servlet:/deadletter)
2025-09-16 21:44:46 [Thread-24] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-enricher (servlet:/enrich)
2025-09-16 21:44:46 [Thread-24] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:44:46 [Thread-24] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped load-balancer (servlet:/loadbalance)
2025-09-16 21:44:46 [Thread-24] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped content-based-router (servlet:/route)
2025-09-16 21:44:46 [Thread-24] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-aggregator (servlet:/aggregate)
2025-09-16 21:44:46 [Thread-24] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:44:46 [Thread-24] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:44:46 [Thread-24] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:44:46 [Thread-24] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:44:46 [Thread-24] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) shutdown in 10ms (uptime:54s)
2025-09-16 21:44:46 [Thread-24] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:44:46 [Thread-24] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-09-16 21:44:46 [Thread-24] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-09-16 21:44:46 [Thread-24] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-09-16 21:44:46 [Thread-24] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:44:49 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 226796 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:44:49 [restartedMain] INFO  com.xp.XpApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-16 21:44:50 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:44:50 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 JPA repository interfaces.
2025-09-16 21:44:50 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Could not enhance configuration class [com.xp.config.SecurityConfig]. Consider declaring @Configuration(proxyBeanMethods=false) without inter-bean references between @Bean methods on the configuration class, avoiding the need for CGLIB enhancement.
2025-09-16 21:44:50 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-09-16 21:44:50 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanDefinitionStoreException: Could not enhance configuration class [com.xp.config.SecurityConfig]. Consider declaring @Configuration(proxyBeanMethods=false) without inter-bean references between @Bean methods on the configuration class, avoiding the need for CGLIB enhancement.
	at org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:135) ~[spring-context-6.2.6.jar:6.2.6]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:539) ~[spring-context-6.2.6.jar:6.2.6]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:311) ~[spring-context-6.2.6.jar:6.2.6]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:363) ~[spring-context-6.2.6.jar:6.2.6]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:153) ~[spring-context-6.2.6.jar:6.2.6]
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:791) ~[spring-context-6.2.6.jar:6.2.6]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:609) ~[spring-context-6.2.6.jar:6.2.6]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351) ~[spring-boot-3.4.5.jar:3.4.5]
	at com.xp.XpApplication.main(XpApplication.java:12) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.4.5.jar:3.4.5]
Caused by: org.springframework.cglib.core.CodeGenerationException: java.lang.NoClassDefFoundError-->com/xp/repository/UserRepository
	at org.springframework.context.annotation.ConfigurationClassEnhancer.createClass(ConfigurationClassEnhancer.java:195) ~[spring-context-6.2.6.jar:6.2.6]
	at org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:127) ~[spring-context-6.2.6.jar:6.2.6]
	... 16 common frames omitted
Caused by: java.lang.NoClassDefFoundError: com/xp/repository/UserRepository
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3549) ~[na:na]
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2727) ~[na:na]
	at org.springframework.cglib.proxy.Enhancer.generateClass(Enhancer.java:655) ~[spring-core-6.2.6.jar:6.2.6]
	at org.springframework.cglib.transform.TransformingClassGenerator.generateClass(TransformingClassGenerator.java:35) ~[spring-core-6.2.6.jar:6.2.6]
	at org.springframework.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:26) ~[spring-core-6.2.6.jar:6.2.6]
	at org.springframework.cglib.core.ClassLoaderAwareGeneratorStrategy.lambda$new$0(ClassLoaderAwareGeneratorStrategy.java:41) ~[spring-core-6.2.6.jar:6.2.6]
	at org.springframework.cglib.core.ClassLoaderAwareGeneratorStrategy.generate(ClassLoaderAwareGeneratorStrategy.java:76) ~[spring-core-6.2.6.jar:6.2.6]
	at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:370) ~[spring-core-6.2.6.jar:6.2.6]
	at org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:575) ~[spring-core-6.2.6.jar:6.2.6]
	at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:133) ~[spring-core-6.2.6.jar:6.2.6]
	at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:321) ~[spring-core-6.2.6.jar:6.2.6]
	at org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:562) ~[spring-core-6.2.6.jar:6.2.6]
	at org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:407) ~[spring-core-6.2.6.jar:6.2.6]
	at org.springframework.context.annotation.ConfigurationClassEnhancer.createClass(ConfigurationClassEnhancer.java:191) ~[spring-context-6.2.6.jar:6.2.6]
	... 17 common frames omitted
Caused by: java.lang.ClassNotFoundException: com.xp.repository.UserRepository
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.4.5.jar:3.4.5]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 32 common frames omitted
2025-09-16 21:44:51 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 226796 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:44:51 [restartedMain] INFO  com.xp.XpApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-16 21:44:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:44:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 JPA repository interfaces.
2025-09-16 21:44:52 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:44:52 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:44:52 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:44:52 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:44:52 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 571 ms
2025-09-16 21:44:52 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:44:52 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:44:52 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:44:52 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Starting...
2025-09-16 21:44:52 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-8 - Added connection conn64: url=jdbc:h2:mem:xpdb user=SA
2025-09-16 21:44:52 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Start completed.
2025-09-16 21:44:52 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:44:52 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-8)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:44:52 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:44:52 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:44:52 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:44:53 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: d12d1f0e-712c-494c-825f-d84e1b7b4ebf

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-16 21:44:53 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-16 21:44:53 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:44:53 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:44:53 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:xpdb'
2025-09-16 21:44:53 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:44:53 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:44:53 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:44:53 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-16 21:44:53 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:44:53 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:44:53 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:44:53 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:0)
2025-09-16 21:44:53 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:44:53 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 17ms (build:0ms init:0ms start:17ms)
2025-09-16 21:44:53 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 1.825 seconds (process running for 240.097)
2025-09-16 21:44:53 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   ManagementWebSecurityAutoConfiguration matched:
      - found 'session' scope (OnWebApplicationCondition)
      - AllNestedConditions 2 matched 0 did not; NestedCondition on DefaultWebSecurityCondition.Beans @ConditionalOnMissingBean (types: org.springframework.security.web.SecurityFilterChain; SearchStrategy: all) did not find any beans; NestedCondition on DefaultWebSecurityCondition.Classes @ConditionalOnClass found required classes 'org.springframework.security.web.SecurityFilterChain', 'org.springframework.security.config.annotation.web.builders.HttpSecurity' (DefaultWebSecurityCondition)

   SpringBootWebSecurityConfiguration.WebSecurityEnablerConfiguration matched:
      - @ConditionalOnClass found required class 'org.springframework.security.config.annotation.web.configuration.EnableWebSecurity' (OnClassCondition)
      - @ConditionalOnMissingBean (names: springSecurityFilterChain; SearchStrategy: all) did not find any beans (OnBeanCondition)

   UserDetailsServiceAutoConfiguration matched:
      - @ConditionalOnClass found required class 'org.springframework.security.authentication.AuthenticationManager' (OnClassCondition)
      - found 'session' scope (OnWebApplicationCondition)
      - AnyNestedCondition 1 matched 2 did not; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.PasswordConfigured @ConditionalOnProperty (spring.security.user.password) did not find property 'password'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.NameConfigured @ConditionalOnProperty (spring.security.user.name) did not find property 'name'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.MissingAlternative @ConditionalOnMissingClass did not find unwanted classes 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository', 'org.springframework.security.oauth2.server.resource.introspection.OpaqueTokenIntrospector', 'org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository' (UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured)
      - @ConditionalOnBean (types: org.springframework.security.config.ObjectPostProcessor; SearchStrategy: all) found beans 'objectPostProcessor', 'webAuthorizationManagerPostProcessor', 'filterChainDecoratorPostProcessor', 'authenticationManagerPostProcessor'; @ConditionalOnMissingBean (types: org.springframework.security.authentication.AuthenticationManager,org.springframework.security.authentication.AuthenticationProvider,org.springframework.security.core.userdetails.UserDetailsService,org.springframework.security.authentication.AuthenticationManagerResolver,org.springframework.security.oauth2.jwt.JwtDecoder; SearchStrategy: all) did not find any beans (OnBeanCondition)

   WebServicesAutoConfiguration matched:
      - @ConditionalOnClass found required class 'org.springframework.ws.transport.http.MessageDispatcherServlet' (OnClassCondition)
      - found 'session' scope (OnWebApplicationCondition)
      - @ConditionalOnMissingBean (types: org.springframework.ws.config.annotation.WsConfigurationSupport; SearchStrategy: all) did not find any beans (OnBeanCondition)


Negative matches:
-----------------

   WebServicesAutoConfiguration#wsdlDefinitionBeanFactoryPostProcessor:
      Did not match:
         - WSDL locations did not find property spring.webservices.wsdl-locations (OnWsdlLocationsCondition)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-09-16 21:44:54 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 79 class path changes (79 additions, 0 deletions, 0 modifications)
2025-09-16 21:44:54 [Thread-28] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-16 21:44:54 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-16 21:44:54 [Thread-28] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is shutting down (timeout:45s)
2025-09-16 21:44:54 [Thread-28] INFO  o.a.c.i.engine.AbstractCamelContext - Routes stopped (stopped:0)
2025-09-16 21:44:54 [Thread-28] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) shutdown in 1ms (uptime:1s)
2025-09-16 21:44:54 [Thread-28] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:44:54 [Thread-28] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-09-16 21:44:54 [Thread-28] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown initiated...
2025-09-16 21:44:54 [Thread-28] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown completed.
2025-09-16 21:44:54 [Thread-28] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:44:54 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 226796 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:44:54 [restartedMain] INFO  com.xp.XpApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-16 21:44:55 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:44:55 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 3 JPA repository interfaces.
2025-09-16 21:44:55 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:44:55 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:44:55 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:44:55 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:44:55 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 471 ms
2025-09-16 21:44:55 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:44:55 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:44:55 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:44:55 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Starting...
2025-09-16 21:44:55 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-9 - Added connection conn74: url=jdbc:h2:mem:xpdb user=SA
2025-09-16 21:44:55 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Start completed.
2025-09-16 21:44:55 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:44:55 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-9)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:44:55 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:44:55 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:44:55 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:44:55 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:44:55 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:44:56 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:44:56 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:44:56 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:44:56 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:44:56 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:xpdb'
2025-09-16 21:44:56 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:44:56 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:44:56 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-16 21:44:56 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:44:56 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:44:56 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:44:56 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:44:56 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:44:56 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:44:56 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:44:56 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:44:56 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:44:56 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:44:56 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:44:56 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:44:56 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:44:56 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:44:56 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:44:56 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:44:56 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:44:56 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:44:56 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:44:56 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 71ms (build:0ms init:0ms start:71ms)
2025-09-16 21:44:56 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 1.944 seconds (process running for 243.47)
2025-09-16 21:44:56 [restartedMain] INFO  com.xp.config.DataLoader - Loading initial data...
2025-09-16 21:44:56 [restartedMain] INFO  com.xp.config.DataLoader - Sample products created successfully
2025-09-16 21:44:56 [restartedMain] INFO  com.xp.config.DataLoader - Sample customers created successfully
2025-09-16 21:44:57 [restartedMain] INFO  com.xp.config.DataLoader - Sample users created successfully
2025-09-16 21:44:57 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

    None


Negative matches:
-----------------

   ManagementWebSecurityAutoConfiguration:
      Did not match:
         - AllNestedConditions 1 matched 1 did not; NestedCondition on DefaultWebSecurityCondition.Beans @ConditionalOnMissingBean (types: org.springframework.security.web.SecurityFilterChain; SearchStrategy: all) found beans of type 'org.springframework.security.web.SecurityFilterChain' securityFilterChain; NestedCondition on DefaultWebSecurityCondition.Classes @ConditionalOnClass found required classes 'org.springframework.security.web.SecurityFilterChain', 'org.springframework.security.config.annotation.web.builders.HttpSecurity' (DefaultWebSecurityCondition)
      Matched:
         - found 'session' scope (OnWebApplicationCondition)

   SpringBootWebSecurityConfiguration.WebSecurityEnablerConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (names: springSecurityFilterChain; SearchStrategy: all) found beans named springSecurityFilterChain (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required class 'org.springframework.security.config.annotation.web.configuration.EnableWebSecurity' (OnClassCondition)

   UserDetailsServiceAutoConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.security.authentication.AuthenticationManager,org.springframework.security.authentication.AuthenticationProvider,org.springframework.security.core.userdetails.UserDetailsService,org.springframework.security.authentication.AuthenticationManagerResolver,org.springframework.security.oauth2.jwt.JwtDecoder; SearchStrategy: all) found beans of type 'org.springframework.security.authentication.AuthenticationManager' authenticationManager and found beans of type 'org.springframework.security.core.userdetails.UserDetailsService' userDetailsService and found beans of type 'org.springframework.security.authentication.AuthenticationProvider' authenticationProvider (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required class 'org.springframework.security.authentication.AuthenticationManager' (OnClassCondition)
         - found 'session' scope (OnWebApplicationCondition)
         - AnyNestedCondition 1 matched 2 did not; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.PasswordConfigured @ConditionalOnProperty (spring.security.user.password) did not find property 'password'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.NameConfigured @ConditionalOnProperty (spring.security.user.name) did not find property 'name'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.MissingAlternative @ConditionalOnMissingClass did not find unwanted classes 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository', 'org.springframework.security.oauth2.server.resource.introspection.OpaqueTokenIntrospector', 'org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository' (UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured)

   WebServicesAutoConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.ws.config.annotation.WsConfigurationSupport; SearchStrategy: all) found beans of type 'org.springframework.ws.config.annotation.WsConfigurationSupport' org.springframework.ws.config.annotation.DelegatingWsConfiguration (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required class 'org.springframework.ws.transport.http.MessageDispatcherServlet' (OnClassCondition)
         - found 'session' scope (OnWebApplicationCondition)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-09-16 21:45:16 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 222004 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:45:16 [restartedMain] INFO  com.xp.XpApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-16 21:45:16 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-core\4.0.5\jaxb-core-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.activation-api.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.xml.bind-api.jar
2025-09-16 21:45:16 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-impl\4.0.5\jaxb-impl-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/jaxb-core.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/angus-activation.jar
2025-09-16 21:45:16 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-16 21:45:16 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-16 21:45:17 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:45:17 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 57 ms. Found 3 JPA repository interfaces.
2025-09-16 21:45:18 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:45:18 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:45:18 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:45:18 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:45:18 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1813 ms
2025-09-16 21:45:18 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:45:18 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.13.Final
2025-09-16 21:45:18 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:45:18 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:45:18 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-16 21:45:19 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:xpdb user=SA
2025-09-16 21:45:19 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-16 21:45:19 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:45:19 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:45:19 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:45:19 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:45:20 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:45:20 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:45:20 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:45:20 [restartedMain] INFO  o.a.camel.util.concurrent.ThreadType - The type of thread detected is PLATFORM
2025-09-16 21:45:20 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:45:21 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:45:21 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:45:21 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:45:21 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:xpdb'
2025-09-16 21:45:22 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:45:22 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:45:22 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-16 21:45:22 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:45:22 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:45:22 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:45:22 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:45:22 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:45:22 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:45:22 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:45:22 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:45:22 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:45:22 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:45:22 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:45:22 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:45:22 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:45:22 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:45:22 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:45:22 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:45:22 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:45:22 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:45:22 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:45:22 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 228ms (build:0ms init:0ms start:228ms)
2025-09-16 21:45:22 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 6.666 seconds (process running for 7.024)
2025-09-16 21:45:22 [restartedMain] INFO  com.xp.config.DataLoader - Loading initial data...
2025-09-16 21:45:23 [restartedMain] INFO  com.xp.config.DataLoader - Sample products created successfully
2025-09-16 21:45:23 [restartedMain] INFO  com.xp.config.DataLoader - Sample customers created successfully
2025-09-16 21:45:23 [restartedMain] INFO  com.xp.config.DataLoader - Sample users created successfully
2025-09-16 21:45:38 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-16 21:45:38 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-16 21:45:38 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-09-16 21:45:38 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api-docs
2025-09-16 21:45:38 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2025-09-16 21:45:38 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:45:38 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api-docs
2025-09-16 21:45:38 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)']
2025-09-16 21:45:51 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 83 class path changes (0 additions, 0 deletions, 83 modifications)
2025-09-16 21:45:51 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-16 21:45:51 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-16 21:45:51 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is shutting down (timeout:45s)
2025-09-16 21:45:51 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext - Routes stopped (stopped:11)
2025-09-16 21:45:51 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:45:51 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-channel (servlet:/deadletter)
2025-09-16 21:45:51 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-enricher (servlet:/enrich)
2025-09-16 21:45:51 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:45:51 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped load-balancer (servlet:/loadbalance)
2025-09-16 21:45:51 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped content-based-router (servlet:/route)
2025-09-16 21:45:51 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-aggregator (servlet:/aggregate)
2025-09-16 21:45:51 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:45:51 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:45:51 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:45:51 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:45:51 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) shutdown in 15ms (uptime:28s)
2025-09-16 21:45:51 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:45:51 [Thread-5] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-09-16 21:45:51 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-16 21:45:51 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-16 21:45:51 [Thread-5] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:45:51 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 222004 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:45:51 [restartedMain] INFO  com.xp.XpApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-16 21:45:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:45:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 3 JPA repository interfaces.
2025-09-16 21:45:51 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:45:51 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:45:51 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:45:51 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:45:51 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 580 ms
2025-09-16 21:45:52 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:45:52 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:45:52 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:45:52 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-09-16 21:45:52 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:xpdb user=SA
2025-09-16 21:45:52 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-09-16 21:45:52 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:45:52 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:45:52 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:45:52 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:45:52 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:45:52 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:45:52 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:45:52 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:45:52 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:45:52 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:45:52 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:45:53 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:xpdb'
2025-09-16 21:45:53 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:45:53 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:45:53 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-16 21:45:53 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:45:53 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:45:53 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:45:53 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:45:53 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:45:53 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:45:53 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:45:53 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:45:53 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:45:53 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:45:53 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:45:53 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:45:53 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:45:53 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:45:53 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:45:53 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:45:53 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:45:53 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:45:53 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:45:53 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 93ms (build:0ms init:0ms start:93ms)
2025-09-16 21:45:53 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 2.323 seconds (process running for 37.832)
2025-09-16 21:45:53 [restartedMain] INFO  com.xp.config.DataLoader - Loading initial data...
2025-09-16 21:45:53 [restartedMain] INFO  com.xp.config.DataLoader - Sample products created successfully
2025-09-16 21:45:53 [restartedMain] INFO  com.xp.config.DataLoader - Sample customers created successfully
2025-09-16 21:45:53 [restartedMain] INFO  com.xp.config.DataLoader - Sample users created successfully
2025-09-16 21:45:53 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-09-16 21:46:29 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 83 class path changes (0 additions, 79 deletions, 4 modifications)
2025-09-16 21:46:29 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-16 21:46:29 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-16 21:46:29 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is shutting down (timeout:45s)
2025-09-16 21:46:29 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext - Routes stopped (stopped:11)
2025-09-16 21:46:29 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:46:29 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-channel (servlet:/deadletter)
2025-09-16 21:46:29 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-enricher (servlet:/enrich)
2025-09-16 21:46:29 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:46:29 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped load-balancer (servlet:/loadbalance)
2025-09-16 21:46:29 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped content-based-router (servlet:/route)
2025-09-16 21:46:29 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-aggregator (servlet:/aggregate)
2025-09-16 21:46:29 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:46:29 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:46:29 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:46:29 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:46:29 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) shutdown in 9ms (uptime:36s)
2025-09-16 21:46:29 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:46:29 [Thread-7] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-09-16 21:46:29 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-09-16 21:46:29 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-09-16 21:46:29 [Thread-7] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:46:29 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 222004 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:46:29 [restartedMain] INFO  com.xp.XpApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-16 21:46:30 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:46:30 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 JPA repository interfaces.
2025-09-16 21:46:30 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:46:30 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:46:30 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:46:30 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:46:30 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 722 ms
2025-09-16 21:46:30 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:46:30 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:46:30 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:46:30 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-09-16 21:46:30 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection conn20: url=jdbc:h2:mem:xpdb user=SA
2025-09-16 21:46:30 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-09-16 21:46:30 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:46:30 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:46:30 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:46:30 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:46:30 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:46:31 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 0f791591-7e6f-4ec6-8a6c-24d9fd4385aa

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-16 21:46:31 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-16 21:46:31 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:46:31 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:46:31 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:xpdb'
2025-09-16 21:46:31 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:46:31 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:46:31 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:46:31 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-16 21:46:31 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:46:31 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:46:31 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:46:31 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:0)
2025-09-16 21:46:31 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:46:31 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 11ms (build:0ms init:0ms start:11ms)
2025-09-16 21:46:31 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 2.157 seconds (process running for 76.056)
2025-09-16 21:46:31 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   ManagementWebSecurityAutoConfiguration matched:
      - found 'session' scope (OnWebApplicationCondition)
      - AllNestedConditions 2 matched 0 did not; NestedCondition on DefaultWebSecurityCondition.Beans @ConditionalOnMissingBean (types: org.springframework.security.web.SecurityFilterChain; SearchStrategy: all) did not find any beans; NestedCondition on DefaultWebSecurityCondition.Classes @ConditionalOnClass found required classes 'org.springframework.security.web.SecurityFilterChain', 'org.springframework.security.config.annotation.web.builders.HttpSecurity' (DefaultWebSecurityCondition)

   SpringBootWebSecurityConfiguration.WebSecurityEnablerConfiguration matched:
      - @ConditionalOnClass found required class 'org.springframework.security.config.annotation.web.configuration.EnableWebSecurity' (OnClassCondition)
      - @ConditionalOnMissingBean (names: springSecurityFilterChain; SearchStrategy: all) did not find any beans (OnBeanCondition)

   UserDetailsServiceAutoConfiguration matched:
      - @ConditionalOnClass found required class 'org.springframework.security.authentication.AuthenticationManager' (OnClassCondition)
      - found 'session' scope (OnWebApplicationCondition)
      - AnyNestedCondition 1 matched 2 did not; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.PasswordConfigured @ConditionalOnProperty (spring.security.user.password) did not find property 'password'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.NameConfigured @ConditionalOnProperty (spring.security.user.name) did not find property 'name'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.MissingAlternative @ConditionalOnMissingClass did not find unwanted classes 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository', 'org.springframework.security.oauth2.server.resource.introspection.OpaqueTokenIntrospector', 'org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository' (UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured)
      - @ConditionalOnBean (types: org.springframework.security.config.ObjectPostProcessor; SearchStrategy: all) found beans 'objectPostProcessor', 'webAuthorizationManagerPostProcessor', 'filterChainDecoratorPostProcessor', 'authenticationManagerPostProcessor'; @ConditionalOnMissingBean (types: org.springframework.security.authentication.AuthenticationManager,org.springframework.security.authentication.AuthenticationProvider,org.springframework.security.core.userdetails.UserDetailsService,org.springframework.security.authentication.AuthenticationManagerResolver,org.springframework.security.oauth2.jwt.JwtDecoder; SearchStrategy: all) did not find any beans (OnBeanCondition)

   WebServicesAutoConfiguration matched:
      - @ConditionalOnClass found required class 'org.springframework.ws.transport.http.MessageDispatcherServlet' (OnClassCondition)
      - found 'session' scope (OnWebApplicationCondition)
      - @ConditionalOnMissingBean (types: org.springframework.ws.config.annotation.WsConfigurationSupport; SearchStrategy: all) did not find any beans (OnBeanCondition)


Negative matches:
-----------------

   WebServicesAutoConfiguration#wsdlDefinitionBeanFactoryPostProcessor:
      Did not match:
         - WSDL locations did not find property spring.webservices.wsdl-locations (OnWsdlLocationsCondition)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-09-16 21:46:33 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 79 class path changes (79 additions, 0 deletions, 0 modifications)
2025-09-16 21:46:33 [Thread-12] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-16 21:46:33 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-16 21:46:33 [Thread-12] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is shutting down (timeout:45s)
2025-09-16 21:46:33 [Thread-12] INFO  o.a.c.i.engine.AbstractCamelContext - Routes stopped (stopped:0)
2025-09-16 21:46:33 [Thread-12] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) shutdown in 1ms (uptime:1s)
2025-09-16 21:46:33 [Thread-12] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:46:33 [Thread-12] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-09-16 21:46:33 [Thread-12] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-09-16 21:46:33 [Thread-12] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-09-16 21:46:33 [Thread-12] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:46:33 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 222004 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:46:33 [restartedMain] INFO  com.xp.XpApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-16 21:46:34 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:46:34 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 3 JPA repository interfaces.
2025-09-16 21:46:34 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:46:34 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:46:34 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:46:34 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:46:34 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 556 ms
2025-09-16 21:46:34 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:46:34 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:46:34 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:46:34 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-09-16 21:46:34 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection conn30: url=jdbc:h2:mem:xpdb user=SA
2025-09-16 21:46:34 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-09-16 21:46:34 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:46:34 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:46:34 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:46:34 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:46:34 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:46:34 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:46:34 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:46:35 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:46:35 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:46:35 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:46:35 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:46:36 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:xpdb'
2025-09-16 21:46:36 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:46:36 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:46:36 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-16 21:46:36 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:46:36 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:46:36 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:46:36 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:46:36 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:46:36 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:46:36 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:46:36 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:46:36 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:46:36 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:46:36 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:46:36 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:46:36 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:46:36 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:46:36 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:46:36 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:46:36 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:46:36 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:46:36 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:46:36 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 118ms (build:0ms init:0ms start:118ms)
2025-09-16 21:46:36 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 3.233 seconds (process running for 81.16)
2025-09-16 21:46:36 [restartedMain] INFO  com.xp.config.DataLoader - Loading initial data...
2025-09-16 21:46:36 [restartedMain] INFO  com.xp.config.DataLoader - Sample products created successfully
2025-09-16 21:46:36 [restartedMain] INFO  com.xp.config.DataLoader - Sample customers created successfully
2025-09-16 21:46:37 [restartedMain] INFO  com.xp.config.DataLoader - Sample users created successfully
2025-09-16 21:46:37 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

    None


Negative matches:
-----------------

   ManagementWebSecurityAutoConfiguration:
      Did not match:
         - AllNestedConditions 1 matched 1 did not; NestedCondition on DefaultWebSecurityCondition.Beans @ConditionalOnMissingBean (types: org.springframework.security.web.SecurityFilterChain; SearchStrategy: all) found beans of type 'org.springframework.security.web.SecurityFilterChain' securityFilterChain; NestedCondition on DefaultWebSecurityCondition.Classes @ConditionalOnClass found required classes 'org.springframework.security.web.SecurityFilterChain', 'org.springframework.security.config.annotation.web.builders.HttpSecurity' (DefaultWebSecurityCondition)
      Matched:
         - found 'session' scope (OnWebApplicationCondition)

   SpringBootWebSecurityConfiguration.WebSecurityEnablerConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (names: springSecurityFilterChain; SearchStrategy: all) found beans named springSecurityFilterChain (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required class 'org.springframework.security.config.annotation.web.configuration.EnableWebSecurity' (OnClassCondition)

   UserDetailsServiceAutoConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.security.authentication.AuthenticationManager,org.springframework.security.authentication.AuthenticationProvider,org.springframework.security.core.userdetails.UserDetailsService,org.springframework.security.authentication.AuthenticationManagerResolver,org.springframework.security.oauth2.jwt.JwtDecoder; SearchStrategy: all) found beans of type 'org.springframework.security.authentication.AuthenticationManager' authenticationManager and found beans of type 'org.springframework.security.core.userdetails.UserDetailsService' userDetailsService and found beans of type 'org.springframework.security.authentication.AuthenticationProvider' authenticationProvider (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required class 'org.springframework.security.authentication.AuthenticationManager' (OnClassCondition)
         - found 'session' scope (OnWebApplicationCondition)
         - AnyNestedCondition 1 matched 2 did not; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.PasswordConfigured @ConditionalOnProperty (spring.security.user.password) did not find property 'password'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.NameConfigured @ConditionalOnProperty (spring.security.user.name) did not find property 'name'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.MissingAlternative @ConditionalOnMissingClass did not find unwanted classes 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository', 'org.springframework.security.oauth2.server.resource.introspection.OpaqueTokenIntrospector', 'org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository' (UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured)

   WebServicesAutoConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.ws.config.annotation.WsConfigurationSupport; SearchStrategy: all) found beans of type 'org.springframework.ws.config.annotation.WsConfigurationSupport' org.springframework.ws.config.annotation.DelegatingWsConfiguration (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required class 'org.springframework.ws.transport.http.MessageDispatcherServlet' (OnClassCondition)
         - found 'session' scope (OnWebApplicationCondition)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-09-16 21:46:43 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 255556 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:46:43 [restartedMain] INFO  com.xp.XpApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-16 21:46:43 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-core\4.0.5\jaxb-core-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.activation-api.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.xml.bind-api.jar
2025-09-16 21:46:43 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-impl\4.0.5\jaxb-impl-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/jaxb-core.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/angus-activation.jar
2025-09-16 21:46:43 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-16 21:46:43 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-16 21:46:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:46:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 50 ms. Found 3 JPA repository interfaces.
2025-09-16 21:46:45 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:46:45 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:46:45 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:46:45 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:46:45 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2059 ms
2025-09-16 21:46:46 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:46:46 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.13.Final
2025-09-16 21:46:46 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:46:46 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:46:46 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-16 21:46:46 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:xpdb user=SA
2025-09-16 21:46:46 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-16 21:46:46 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:46:46 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:46:47 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:46:47 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:46:47 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:46:47 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:46:47 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:46:48 [restartedMain] INFO  o.a.camel.util.concurrent.ThreadType - The type of thread detected is PLATFORM
2025-09-16 21:46:48 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:46:48 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:46:48 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:46:48 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:46:49 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:xpdb'
2025-09-16 21:46:49 [restartedMain] WARN  o.s.b.d.a.OptionalLiveReloadServer - Unable to start LiveReload server
2025-09-16 21:46:49 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-09-16 21:46:49 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:46:49 [restartedMain] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-09-16 21:46:49 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-16 21:46:49 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-16 21:46:49 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-09-16 21:46:49 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-09-16 21:47:00 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-16 21:47:00 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-16 21:47:00 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-09-16 21:47:00 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api-docs
2025-09-16 21:47:00 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2025-09-16 21:47:00 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:47:00 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api-docs
2025-09-16 21:47:00 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)']
2025-09-16 21:47:05 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-09-16 21:47:05 [Thread-16] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-16 21:47:05 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-16 21:47:05 [Thread-16] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is shutting down (timeout:45s)
2025-09-16 21:47:05 [Thread-16] INFO  o.a.c.i.engine.AbstractCamelContext - Routes stopped (stopped:11)
2025-09-16 21:47:05 [Thread-16] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:47:05 [Thread-16] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-channel (servlet:/deadletter)
2025-09-16 21:47:05 [Thread-16] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-enricher (servlet:/enrich)
2025-09-16 21:47:05 [Thread-16] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:47:05 [Thread-16] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped load-balancer (servlet:/loadbalance)
2025-09-16 21:47:05 [Thread-16] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped content-based-router (servlet:/route)
2025-09-16 21:47:05 [Thread-16] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-aggregator (servlet:/aggregate)
2025-09-16 21:47:05 [Thread-16] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:47:05 [Thread-16] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:47:05 [Thread-16] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:47:05 [Thread-16] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:47:05 [Thread-16] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) shutdown in 5ms (uptime:28s)
2025-09-16 21:47:05 [Thread-16] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:47:05 [Thread-16] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-09-16 21:47:05 [Thread-16] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-09-16 21:47:05 [Thread-16] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-09-16 21:47:05 [Thread-16] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:47:05 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 222004 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:47:05 [restartedMain] INFO  com.xp.XpApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-16 21:47:06 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:47:06 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 3 JPA repository interfaces.
2025-09-16 21:47:06 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:47:06 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:47:06 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:47:06 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:47:06 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 678 ms
2025-09-16 21:47:06 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:47:06 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:47:06 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:47:06 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-09-16 21:47:06 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection conn40: url=jdbc:h2:mem:xpdb user=SA
2025-09-16 21:47:06 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-09-16 21:47:06 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:47:06 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:47:06 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:47:06 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:47:06 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:47:07 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:47:07 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:47:07 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:47:07 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:47:07 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:47:07 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:47:08 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:xpdb'
2025-09-16 21:47:08 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:47:08 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:47:08 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-16 21:47:08 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:47:08 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:47:08 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:47:08 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:47:08 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:47:08 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:47:08 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:47:08 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:47:08 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:47:08 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:47:08 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:47:08 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:47:08 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:47:08 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:47:08 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:47:08 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:47:08 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:47:08 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:47:08 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:47:08 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 97ms (build:0ms init:0ms start:97ms)
2025-09-16 21:47:08 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 2.766 seconds (process running for 112.825)
2025-09-16 21:47:08 [restartedMain] INFO  com.xp.config.DataLoader - Loading initial data...
2025-09-16 21:47:08 [restartedMain] INFO  com.xp.config.DataLoader - Sample products created successfully
2025-09-16 21:47:08 [restartedMain] INFO  com.xp.config.DataLoader - Sample customers created successfully
2025-09-16 21:47:08 [restartedMain] INFO  com.xp.config.DataLoader - Sample users created successfully
2025-09-16 21:47:08 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-09-16 21:47:09 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-09-16 21:47:09 [Thread-20] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-16 21:47:09 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-16 21:47:09 [Thread-20] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is shutting down (timeout:45s)
2025-09-16 21:47:09 [Thread-20] INFO  o.a.c.i.engine.AbstractCamelContext - Routes stopped (stopped:11)
2025-09-16 21:47:09 [Thread-20] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:47:09 [Thread-20] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-channel (servlet:/deadletter)
2025-09-16 21:47:09 [Thread-20] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-enricher (servlet:/enrich)
2025-09-16 21:47:09 [Thread-20] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:47:09 [Thread-20] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped load-balancer (servlet:/loadbalance)
2025-09-16 21:47:09 [Thread-20] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped content-based-router (servlet:/route)
2025-09-16 21:47:09 [Thread-20] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-aggregator (servlet:/aggregate)
2025-09-16 21:47:09 [Thread-20] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:47:09 [Thread-20] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:47:09 [Thread-20] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:47:09 [Thread-20] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:47:09 [Thread-20] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) shutdown in 5ms (uptime:1s)
2025-09-16 21:47:09 [Thread-20] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:47:09 [Thread-20] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-09-16 21:47:09 [Thread-20] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-09-16 21:47:09 [Thread-20] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-09-16 21:47:09 [Thread-20] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:47:09 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 222004 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:47:09 [restartedMain] INFO  com.xp.XpApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-16 21:47:10 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:47:10 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 3 JPA repository interfaces.
2025-09-16 21:47:10 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:47:10 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:47:10 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:47:10 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:47:10 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 882 ms
2025-09-16 21:47:10 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:47:10 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:47:10 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:47:10 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-09-16 21:47:10 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection conn50: url=jdbc:h2:mem:xpdb user=SA
2025-09-16 21:47:10 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-09-16 21:47:10 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:47:10 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-6)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:47:11 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:47:11 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:47:11 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:47:11 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:47:11 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:47:11 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:47:11 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:47:12 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:47:12 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:47:12 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:xpdb'
2025-09-16 21:47:12 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:47:12 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:47:12 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-16 21:47:12 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:47:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:47:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:47:12 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:47:12 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:47:12 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:47:12 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:47:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:47:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:47:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:47:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:47:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:47:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:47:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:47:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:47:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:47:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:47:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:47:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:47:12 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 71ms (build:0ms init:0ms start:71ms)
2025-09-16 21:47:12 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 2.942 seconds (process running for 116.999)
2025-09-16 21:47:12 [restartedMain] INFO  com.xp.config.DataLoader - Loading initial data...
2025-09-16 21:47:12 [restartedMain] INFO  com.xp.config.DataLoader - Sample products created successfully
2025-09-16 21:47:12 [restartedMain] INFO  com.xp.config.DataLoader - Sample customers created successfully
2025-09-16 21:47:12 [restartedMain] INFO  com.xp.config.DataLoader - Sample users created successfully
2025-09-16 21:47:12 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-09-16 21:47:14 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-09-16 21:47:14 [Thread-24] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-16 21:47:14 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-16 21:47:14 [Thread-24] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is shutting down (timeout:45s)
2025-09-16 21:47:14 [Thread-24] INFO  o.a.c.i.engine.AbstractCamelContext - Routes stopped (stopped:11)
2025-09-16 21:47:14 [Thread-24] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:47:14 [Thread-24] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-channel (servlet:/deadletter)
2025-09-16 21:47:14 [Thread-24] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-enricher (servlet:/enrich)
2025-09-16 21:47:14 [Thread-24] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:47:14 [Thread-24] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped load-balancer (servlet:/loadbalance)
2025-09-16 21:47:14 [Thread-24] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped content-based-router (servlet:/route)
2025-09-16 21:47:14 [Thread-24] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-aggregator (servlet:/aggregate)
2025-09-16 21:47:14 [Thread-24] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:47:14 [Thread-24] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:47:14 [Thread-24] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:47:14 [Thread-24] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:47:14 [Thread-24] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) shutdown in 7ms (uptime:1s)
2025-09-16 21:47:14 [Thread-24] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:47:14 [Thread-24] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-09-16 21:47:14 [Thread-24] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-09-16 21:47:14 [Thread-24] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-09-16 21:47:14 [Thread-24] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:47:14 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 222004 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:47:14 [restartedMain] INFO  com.xp.XpApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-16 21:47:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:47:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 39 ms. Found 3 JPA repository interfaces.
2025-09-16 21:47:14 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:47:14 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:47:14 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:47:14 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:47:14 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 745 ms
2025-09-16 21:47:15 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:47:15 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:47:15 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:47:15 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Starting...
2025-09-16 21:47:15 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-7 - Added connection conn60: url=jdbc:h2:mem:xpdb user=SA
2025-09-16 21:47:15 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Start completed.
2025-09-16 21:47:15 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:47:15 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-7)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:47:15 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:47:15 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:47:15 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:47:15 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:47:15 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:47:15 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:47:16 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:47:16 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:47:16 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:47:16 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:xpdb'
2025-09-16 21:47:16 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:47:17 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:47:17 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-16 21:47:17 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: java.lang.NoClassDefFoundError: com/xp/esb/config/ESBRoutes$1
2025-09-16 21:47:17 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:47:17 [restartedMain] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-09-16 21:47:17 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown initiated...
2025-09-16 21:47:17 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown completed.
2025-09-16 21:47:17 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-09-16 21:47:17 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
java.lang.NoClassDefFoundError: com/xp/esb/config/ESBRoutes$1
	at com.xp.esb.config.ESBRoutes.configure(ESBRoutes.java:37) ~[classes/:na]
	at org.apache.camel.builder.RouteBuilder.checkInitialized(RouteBuilder.java:780) ~[camel-core-model-4.4.0.jar:4.4.0]
	at org.apache.camel.builder.RouteBuilder.configureRoutes(RouteBuilder.java:725) ~[camel-core-model-4.4.0.jar:4.4.0]
	at org.apache.camel.builder.RouteBuilder.prepareModel(RouteBuilder.java:648) ~[camel-core-model-4.4.0.jar:4.4.0]
	at org.apache.camel.builder.RouteBuilder.addRoutesToCamelContext(RouteBuilder.java:666) ~[camel-core-model-4.4.0.jar:4.4.0]
	at org.apache.camel.impl.engine.AbstractCamelContext.addRoutes(AbstractCamelContext.java:983) ~[camel-base-engine-4.4.0.jar:4.4.0]
	at org.apache.camel.main.RoutesConfigurer.addDiscoveredRoutes(RoutesConfigurer.java:254) ~[camel-main-4.4.0.jar:4.4.0]
	at org.apache.camel.main.RoutesConfigurer.configureRoutes(RoutesConfigurer.java:236) ~[camel-main-4.4.0.jar:4.4.0]
	at org.apache.camel.spring.boot.CamelSpringBootApplicationListener.onApplicationEvent(CamelSpringBootApplicationListener.java:107) ~[camel-spring-boot-4.4.0.jar:4.4.0]
	at org.apache.camel.spring.boot.CamelSpringBootApplicationListener.onApplicationEvent(CamelSpringBootApplicationListener.java:59) ~[camel-spring-boot-4.4.0.jar:4.4.0]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185) ~[spring-context-6.2.6.jar:6.2.6]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178) ~[spring-context-6.2.6.jar:6.2.6]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156) ~[spring-context-6.2.6.jar:6.2.6]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454) ~[spring-context-6.2.6.jar:6.2.6]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387) ~[spring-context-6.2.6.jar:6.2.6]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1009) ~[spring-context-6.2.6.jar:6.2.6]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630) ~[spring-context-6.2.6.jar:6.2.6]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351) ~[spring-boot-3.4.5.jar:3.4.5]
	at com.xp.XpApplication.main(XpApplication.java:12) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.4.5.jar:3.4.5]
Caused by: java.lang.ClassNotFoundException: com.xp.esb.config.ESBRoutes$1
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.4.5.jar:3.4.5]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 27 common frames omitted
2025-09-16 21:47:17 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:47:18 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 222004 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:47:18 [restartedMain] INFO  com.xp.XpApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-16 21:47:18 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:47:18 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 JPA repository interfaces.
2025-09-16 21:47:19 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:47:19 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:47:19 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:47:19 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:47:19 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 489 ms
2025-09-16 21:47:19 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:47:19 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:47:19 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:47:19 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Starting...
2025-09-16 21:47:19 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-8 - Added connection conn70: url=jdbc:h2:mem:xpdb user=SA
2025-09-16 21:47:19 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Start completed.
2025-09-16 21:47:19 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:47:19 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-8)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:47:19 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:47:19 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:47:19 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:47:20 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 3691fe06-b967-4b44-befd-2b74d74cf713

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-16 21:47:20 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-16 21:47:20 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:47:20 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:47:20 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:xpdb'
2025-09-16 21:47:20 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:47:20 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:47:20 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:47:20 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-16 21:47:20 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:47:20 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:47:20 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:47:20 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:0)
2025-09-16 21:47:20 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:47:20 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 10ms (build:0ms init:0ms start:10ms)
2025-09-16 21:47:20 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 1.751 seconds (process running for 124.488)
2025-09-16 21:47:20 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   ManagementWebSecurityAutoConfiguration matched:
      - found 'session' scope (OnWebApplicationCondition)
      - AllNestedConditions 2 matched 0 did not; NestedCondition on DefaultWebSecurityCondition.Beans @ConditionalOnMissingBean (types: org.springframework.security.web.SecurityFilterChain; SearchStrategy: all) did not find any beans; NestedCondition on DefaultWebSecurityCondition.Classes @ConditionalOnClass found required classes 'org.springframework.security.web.SecurityFilterChain', 'org.springframework.security.config.annotation.web.builders.HttpSecurity' (DefaultWebSecurityCondition)

   SpringBootWebSecurityConfiguration.WebSecurityEnablerConfiguration matched:
      - @ConditionalOnClass found required class 'org.springframework.security.config.annotation.web.configuration.EnableWebSecurity' (OnClassCondition)
      - @ConditionalOnMissingBean (names: springSecurityFilterChain; SearchStrategy: all) did not find any beans (OnBeanCondition)

   UserDetailsServiceAutoConfiguration matched:
      - @ConditionalOnClass found required class 'org.springframework.security.authentication.AuthenticationManager' (OnClassCondition)
      - found 'session' scope (OnWebApplicationCondition)
      - AnyNestedCondition 1 matched 2 did not; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.PasswordConfigured @ConditionalOnProperty (spring.security.user.password) did not find property 'password'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.NameConfigured @ConditionalOnProperty (spring.security.user.name) did not find property 'name'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.MissingAlternative @ConditionalOnMissingClass did not find unwanted classes 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository', 'org.springframework.security.oauth2.server.resource.introspection.OpaqueTokenIntrospector', 'org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository' (UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured)
      - @ConditionalOnBean (types: org.springframework.security.config.ObjectPostProcessor; SearchStrategy: all) found beans 'objectPostProcessor', 'webAuthorizationManagerPostProcessor', 'filterChainDecoratorPostProcessor', 'authenticationManagerPostProcessor'; @ConditionalOnMissingBean (types: org.springframework.security.authentication.AuthenticationManager,org.springframework.security.authentication.AuthenticationProvider,org.springframework.security.core.userdetails.UserDetailsService,org.springframework.security.authentication.AuthenticationManagerResolver,org.springframework.security.oauth2.jwt.JwtDecoder; SearchStrategy: all) did not find any beans (OnBeanCondition)

   WebServicesAutoConfiguration matched:
      - @ConditionalOnClass found required class 'org.springframework.ws.transport.http.MessageDispatcherServlet' (OnClassCondition)
      - found 'session' scope (OnWebApplicationCondition)
      - @ConditionalOnMissingBean (types: org.springframework.ws.config.annotation.WsConfigurationSupport; SearchStrategy: all) did not find any beans (OnBeanCondition)


Negative matches:
-----------------

   WebServicesAutoConfiguration#wsdlDefinitionBeanFactoryPostProcessor:
      Did not match:
         - WSDL locations did not find property spring.webservices.wsdl-locations (OnWsdlLocationsCondition)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-09-16 21:47:21 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 79 class path changes (79 additions, 0 deletions, 0 modifications)
2025-09-16 21:47:21 [Thread-28] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-16 21:47:21 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-16 21:47:21 [Thread-28] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is shutting down (timeout:45s)
2025-09-16 21:47:21 [Thread-28] INFO  o.a.c.i.engine.AbstractCamelContext - Routes stopped (stopped:0)
2025-09-16 21:47:21 [Thread-28] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) shutdown in 1ms (uptime:1s)
2025-09-16 21:47:21 [Thread-28] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:47:21 [Thread-28] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-09-16 21:47:21 [Thread-28] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown initiated...
2025-09-16 21:47:21 [Thread-28] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown completed.
2025-09-16 21:47:21 [Thread-28] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:47:21 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 222004 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:47:21 [restartedMain] INFO  com.xp.XpApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-16 21:47:22 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:47:22 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 3 JPA repository interfaces.
2025-09-16 21:47:22 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:47:22 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:47:22 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:47:22 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:47:22 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 472 ms
2025-09-16 21:47:22 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:47:22 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:47:22 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:47:22 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Starting...
2025-09-16 21:47:22 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-9 - Added connection conn80: url=jdbc:h2:mem:xpdb user=SA
2025-09-16 21:47:22 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Start completed.
2025-09-16 21:47:22 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:47:22 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-9)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:47:22 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:47:22 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:47:22 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:47:22 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:47:22 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:47:22 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:47:23 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:47:23 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:47:23 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:47:23 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:xpdb'
2025-09-16 21:47:23 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:47:23 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:47:23 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-16 21:47:23 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:47:23 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:47:23 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:47:23 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:47:23 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:47:23 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:47:23 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:47:23 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:47:23 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:47:23 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:47:23 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:47:23 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:47:23 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:47:23 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:47:23 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:47:23 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:47:23 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:47:23 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:47:23 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:47:23 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 59ms (build:0ms init:0ms start:59ms)
2025-09-16 21:47:23 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 1.972 seconds (process running for 127.907)
2025-09-16 21:47:23 [restartedMain] INFO  com.xp.config.DataLoader - Loading initial data...
2025-09-16 21:47:23 [restartedMain] INFO  com.xp.config.DataLoader - Sample products created successfully
2025-09-16 21:47:23 [restartedMain] INFO  com.xp.config.DataLoader - Sample customers created successfully
2025-09-16 21:47:23 [restartedMain] INFO  com.xp.config.DataLoader - Sample users created successfully
2025-09-16 21:47:23 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

    None


Negative matches:
-----------------

   ManagementWebSecurityAutoConfiguration:
      Did not match:
         - AllNestedConditions 1 matched 1 did not; NestedCondition on DefaultWebSecurityCondition.Beans @ConditionalOnMissingBean (types: org.springframework.security.web.SecurityFilterChain; SearchStrategy: all) found beans of type 'org.springframework.security.web.SecurityFilterChain' securityFilterChain; NestedCondition on DefaultWebSecurityCondition.Classes @ConditionalOnClass found required classes 'org.springframework.security.web.SecurityFilterChain', 'org.springframework.security.config.annotation.web.builders.HttpSecurity' (DefaultWebSecurityCondition)
      Matched:
         - found 'session' scope (OnWebApplicationCondition)

   SpringBootWebSecurityConfiguration.WebSecurityEnablerConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (names: springSecurityFilterChain; SearchStrategy: all) found beans named springSecurityFilterChain (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required class 'org.springframework.security.config.annotation.web.configuration.EnableWebSecurity' (OnClassCondition)

   UserDetailsServiceAutoConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.security.authentication.AuthenticationManager,org.springframework.security.authentication.AuthenticationProvider,org.springframework.security.core.userdetails.UserDetailsService,org.springframework.security.authentication.AuthenticationManagerResolver,org.springframework.security.oauth2.jwt.JwtDecoder; SearchStrategy: all) found beans of type 'org.springframework.security.authentication.AuthenticationManager' authenticationManager and found beans of type 'org.springframework.security.core.userdetails.UserDetailsService' userDetailsService and found beans of type 'org.springframework.security.authentication.AuthenticationProvider' authenticationProvider (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required class 'org.springframework.security.authentication.AuthenticationManager' (OnClassCondition)
         - found 'session' scope (OnWebApplicationCondition)
         - AnyNestedCondition 1 matched 2 did not; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.PasswordConfigured @ConditionalOnProperty (spring.security.user.password) did not find property 'password'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.NameConfigured @ConditionalOnProperty (spring.security.user.name) did not find property 'name'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.MissingAlternative @ConditionalOnMissingClass did not find unwanted classes 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository', 'org.springframework.security.oauth2.server.resource.introspection.OpaqueTokenIntrospector', 'org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository' (UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured)

   WebServicesAutoConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.ws.config.annotation.WsConfigurationSupport; SearchStrategy: all) found beans of type 'org.springframework.ws.config.annotation.WsConfigurationSupport' org.springframework.ws.config.annotation.DelegatingWsConfiguration (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required class 'org.springframework.ws.transport.http.MessageDispatcherServlet' (OnClassCondition)
         - found 'session' scope (OnWebApplicationCondition)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-09-16 21:47:31 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 257004 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:47:31 [restartedMain] INFO  com.xp.XpApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-16 21:47:31 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-core\4.0.5\jaxb-core-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.activation-api.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.xml.bind-api.jar
2025-09-16 21:47:31 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-impl\4.0.5\jaxb-impl-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/jaxb-core.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/angus-activation.jar
2025-09-16 21:47:31 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-16 21:47:31 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-16 21:47:32 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:47:32 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 51 ms. Found 3 JPA repository interfaces.
2025-09-16 21:47:33 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:47:33 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:47:33 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:47:33 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:47:33 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1992 ms
2025-09-16 21:47:33 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:47:33 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.13.Final
2025-09-16 21:47:33 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:47:33 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:47:33 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-16 21:47:33 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:xpdb user=SA
2025-09-16 21:47:33 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-16 21:47:33 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:47:33 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:47:34 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:47:34 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:47:35 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:47:35 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:47:35 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:47:35 [restartedMain] INFO  o.a.camel.util.concurrent.ThreadType - The type of thread detected is PLATFORM
2025-09-16 21:47:35 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:47:36 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:47:36 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:47:36 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:47:36 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:xpdb'
2025-09-16 21:47:36 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:47:37 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:47:37 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-16 21:47:37 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:47:37 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:47:37 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:47:37 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:47:37 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:47:37 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:47:37 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:47:37 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:47:37 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:47:37 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:47:37 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:47:37 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:47:37 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:47:37 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:47:37 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:47:37 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:47:37 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:47:37 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:47:37 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:47:37 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 232ms (build:0ms init:0ms start:232ms)
2025-09-16 21:47:37 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 6.988 seconds (process running for 7.463)
2025-09-16 21:47:37 [restartedMain] INFO  com.xp.config.DataLoader - Loading initial data...
2025-09-16 21:47:38 [restartedMain] INFO  com.xp.config.DataLoader - Sample products created successfully
2025-09-16 21:47:38 [restartedMain] INFO  com.xp.config.DataLoader - Sample customers created successfully
2025-09-16 21:47:38 [restartedMain] INFO  com.xp.config.DataLoader - Sample users created successfully
2025-09-16 21:47:50 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-16 21:47:50 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-16 21:47:50 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-09-16 21:47:50 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui.html
2025-09-16 21:47:50 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2025-09-16 21:47:50 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:47:50 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui.html
2025-09-16 21:47:50 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-09-16 21:47:50 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:47:50 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-09-16 21:48:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs
2025-09-16 21:48:36 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2025-09-16 21:48:36 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:48:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs
2025-09-16 21:48:36 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)']
2025-09-16 21:48:46 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-09-16 21:48:46 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-16 21:48:47 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-16 21:48:47 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is shutting down (timeout:45s)
2025-09-16 21:48:47 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext - Routes stopped (stopped:11)
2025-09-16 21:48:47 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:48:47 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-channel (servlet:/deadletter)
2025-09-16 21:48:47 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-enricher (servlet:/enrich)
2025-09-16 21:48:47 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:48:47 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped load-balancer (servlet:/loadbalance)
2025-09-16 21:48:47 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped content-based-router (servlet:/route)
2025-09-16 21:48:47 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-aggregator (servlet:/aggregate)
2025-09-16 21:48:47 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:48:47 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:48:47 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:48:47 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:48:47 [Thread-5] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) shutdown in 21ms (uptime:1m9s)
2025-09-16 21:48:47 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:48:47 [Thread-5] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-09-16 21:48:47 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-16 21:48:47 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-16 21:48:47 [Thread-5] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:48:47 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 257004 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:48:47 [restartedMain] INFO  com.xp.XpApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-16 21:48:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:48:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 3 JPA repository interfaces.
2025-09-16 21:48:47 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:48:47 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:48:47 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:48:47 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:48:47 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 635 ms
2025-09-16 21:48:47 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:48:47 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:48:47 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:48:47 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-09-16 21:48:47 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:xpdb user=SA
2025-09-16 21:48:47 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-09-16 21:48:47 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:48:47 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:48:47 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:48:47 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:48:48 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:48:48 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:48:48 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:48:48 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:48:48 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:48:48 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:48:48 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:48:49 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:xpdb'
2025-09-16 21:48:49 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:48:49 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:48:49 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-16 21:48:49 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:48:49 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:48:49 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:48:49 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:48:49 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:48:49 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:48:49 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:48:49 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:48:49 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:48:49 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:48:49 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:48:49 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:48:49 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:48:49 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:48:49 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:48:49 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:48:49 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:48:49 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:48:49 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:48:49 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 97ms (build:0ms init:0ms start:97ms)
2025-09-16 21:48:49 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 2.59 seconds (process running for 79.437)
2025-09-16 21:48:49 [restartedMain] INFO  com.xp.config.DataLoader - Loading initial data...
2025-09-16 21:48:49 [restartedMain] INFO  com.xp.config.DataLoader - Sample products created successfully
2025-09-16 21:48:49 [restartedMain] INFO  com.xp.config.DataLoader - Sample customers created successfully
2025-09-16 21:48:49 [restartedMain] INFO  com.xp.config.DataLoader - Sample users created successfully
2025-09-16 21:48:49 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-09-16 21:48:50 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-16 21:48:50 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-16 21:48:50 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-09-16 21:48:50 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-09-16 21:48:50 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2025-09-16 21:48:50 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:48:50 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 231B67555F9ACF8D486884B6771B4EFB
2025-09-16 21:48:50 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-09-16 21:48:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui.css
2025-09-16 21:48:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.css
2025-09-16 21:48:50 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:48:50 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:48:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui.css
2025-09-16 21:48:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.css
2025-09-16 21:48:50 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-bundle.js
2025-09-16 21:48:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-09-16 21:48:50 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-initializer.js
2025-09-16 21:48:50 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:48:50 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:48:50 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:48:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-09-16 21:48:50 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-bundle.js
2025-09-16 21:48:50 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-initializer.js
2025-09-16 21:48:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs/swagger-config
2025-09-16 21:48:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/favicon-32x32.png
2025-09-16 21:48:51 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:48:51 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:48:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/favicon-32x32.png
2025-09-16 21:48:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs/swagger-config
2025-09-16 21:48:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs
2025-09-16 21:48:51 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:48:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs
2025-09-16 21:48:51 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)']
2025-09-16 21:49:09 [http-nio-8080-exec-7] DEBUG o.s.s.w.f.HttpStatusRequestRejectedHandler - Rejecting request due to: The request was rejected because the URL contained a potentially malicious String "//"
org.springframework.security.web.firewall.RequestRejectedException: The request was rejected because the URL contained a potentially malicious String "//"
	at org.springframework.security.web.firewall.StrictHttpFirewall.rejectedBlocklistedUrls(StrictHttpFirewall.java:548) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.firewall.StrictHttpFirewall.getFirewalledRequest(StrictHttpFirewall.java:518) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
2025-09-16 21:49:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-09-16 21:49:09 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:49:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-09-16 21:49:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-09-16 21:49:09 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:49:09 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-09-16 21:49:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-09-16 21:49:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-09-16 21:49:09 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:49:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs
2025-09-16 21:49:12 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:49:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs
2025-09-16 21:49:12 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoSuchMethodError: 'void org.springframework.web.method.ControllerAdviceBean.<init>(java.lang.Object)']
2025-09-16 21:49:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-09-16 21:49:12 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:49:12 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-09-16 21:49:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-09-16 21:49:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-09-16 21:49:12 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:50:01 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 83 class path changes (0 additions, 0 deletions, 83 modifications)
2025-09-16 21:50:01 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-16 21:50:01 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-16 21:50:01 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is shutting down (timeout:45s)
2025-09-16 21:50:01 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext - Routes stopped (stopped:11)
2025-09-16 21:50:01 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:50:01 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-channel (servlet:/deadletter)
2025-09-16 21:50:01 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-enricher (servlet:/enrich)
2025-09-16 21:50:01 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:50:01 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped load-balancer (servlet:/loadbalance)
2025-09-16 21:50:01 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped content-based-router (servlet:/route)
2025-09-16 21:50:01 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-aggregator (servlet:/aggregate)
2025-09-16 21:50:01 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:50:01 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:50:01 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:50:01 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:50:01 [Thread-7] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) shutdown in 7ms (uptime:1m11s)
2025-09-16 21:50:01 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:50:01 [Thread-7] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-09-16 21:50:01 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-09-16 21:50:01 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-09-16 21:50:01 [Thread-7] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:50:01 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 257004 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:50:01 [restartedMain] INFO  com.xp.XpApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-16 21:50:01 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:50:01 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 3 JPA repository interfaces.
2025-09-16 21:50:01 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:50:01 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:50:01 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:50:01 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:50:01 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 646 ms
2025-09-16 21:50:02 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:50:02 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:50:02 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:50:02 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-09-16 21:50:02 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection conn20: url=jdbc:h2:mem:xpdb user=SA
2025-09-16 21:50:02 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-09-16 21:50:02 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:50:02 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:50:02 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:50:02 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:50:02 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:50:02 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:50:02 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:50:02 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:50:03 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:50:03 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:50:03 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:50:03 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:xpdb'
2025-09-16 21:50:03 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:50:03 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:50:03 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-16 21:50:03 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:50:03 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:50:03 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:50:03 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:50:03 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:50:03 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:50:03 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:50:03 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:50:03 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:50:03 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:50:03 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:50:03 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:50:03 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:50:03 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:50:03 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:50:03 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:50:03 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:50:03 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:50:03 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:50:03 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 70ms (build:0ms init:0ms start:70ms)
2025-09-16 21:50:03 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 2.712 seconds (process running for 153.68)
2025-09-16 21:50:03 [restartedMain] INFO  com.xp.config.DataLoader - Loading initial data...
2025-09-16 21:50:03 [restartedMain] INFO  com.xp.config.DataLoader - Sample products created successfully
2025-09-16 21:50:03 [restartedMain] INFO  com.xp.config.DataLoader - Sample customers created successfully
2025-09-16 21:50:04 [restartedMain] INFO  com.xp.config.DataLoader - Sample users created successfully
2025-09-16 21:50:04 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-09-16 21:50:23 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 83 class path changes (0 additions, 79 deletions, 4 modifications)
2025-09-16 21:50:23 [Thread-12] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-16 21:50:23 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-16 21:50:23 [Thread-12] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is shutting down (timeout:45s)
2025-09-16 21:50:23 [Thread-12] INFO  o.a.c.i.engine.AbstractCamelContext - Routes stopped (stopped:11)
2025-09-16 21:50:23 [Thread-12] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:50:23 [Thread-12] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped dead-letter-channel (servlet:/deadletter)
2025-09-16 21:50:23 [Thread-12] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-enricher (servlet:/enrich)
2025-09-16 21:50:23 [Thread-12] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:50:23 [Thread-12] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped load-balancer (servlet:/loadbalance)
2025-09-16 21:50:23 [Thread-12] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped content-based-router (servlet:/route)
2025-09-16 21:50:23 [Thread-12] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped message-aggregator (servlet:/aggregate)
2025-09-16 21:50:23 [Thread-12] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:50:23 [Thread-12] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:50:23 [Thread-12] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:50:23 [Thread-12] INFO  o.a.c.i.engine.AbstractCamelContext -     Stopped rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:50:23 [Thread-12] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) shutdown in 22ms (uptime:19s)
2025-09-16 21:50:23 [Thread-12] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:50:23 [Thread-12] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-09-16 21:50:23 [Thread-12] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-09-16 21:50:23 [Thread-12] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-09-16 21:50:23 [Thread-12] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:50:23 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 257004 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:50:23 [restartedMain] INFO  com.xp.XpApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-16 21:50:23 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:50:23 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 JPA repository interfaces.
2025-09-16 21:50:24 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:50:24 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:50:24 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:50:24 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:50:24 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1056 ms
2025-09-16 21:50:24 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:50:24 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:50:24 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:50:24 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-09-16 21:50:24 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection conn30: url=jdbc:h2:mem:xpdb user=SA
2025-09-16 21:50:24 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-09-16 21:50:24 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:50:24 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:50:24 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:50:24 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:50:24 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:50:26 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: a8f2ba38-9e2b-4296-a7ac-2afc9054b9fc

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-16 21:50:26 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-16 21:50:26 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:50:26 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:50:26 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:xpdb'
2025-09-16 21:50:26 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:50:26 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:50:26 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:50:26 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-16 21:50:26 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:50:26 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:50:26 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:50:26 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:0)
2025-09-16 21:50:26 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:50:26 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 16ms (build:0ms init:0ms start:16ms)
2025-09-16 21:50:26 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 3.256 seconds (process running for 176.176)
2025-09-16 21:50:26 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   ManagementWebSecurityAutoConfiguration matched:
      - found 'session' scope (OnWebApplicationCondition)
      - AllNestedConditions 2 matched 0 did not; NestedCondition on DefaultWebSecurityCondition.Beans @ConditionalOnMissingBean (types: org.springframework.security.web.SecurityFilterChain; SearchStrategy: all) did not find any beans; NestedCondition on DefaultWebSecurityCondition.Classes @ConditionalOnClass found required classes 'org.springframework.security.web.SecurityFilterChain', 'org.springframework.security.config.annotation.web.builders.HttpSecurity' (DefaultWebSecurityCondition)

   SpringBootWebSecurityConfiguration.WebSecurityEnablerConfiguration matched:
      - @ConditionalOnClass found required class 'org.springframework.security.config.annotation.web.configuration.EnableWebSecurity' (OnClassCondition)
      - @ConditionalOnMissingBean (names: springSecurityFilterChain; SearchStrategy: all) did not find any beans (OnBeanCondition)

   UserDetailsServiceAutoConfiguration matched:
      - @ConditionalOnClass found required class 'org.springframework.security.authentication.AuthenticationManager' (OnClassCondition)
      - found 'session' scope (OnWebApplicationCondition)
      - AnyNestedCondition 1 matched 2 did not; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.PasswordConfigured @ConditionalOnProperty (spring.security.user.password) did not find property 'password'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.NameConfigured @ConditionalOnProperty (spring.security.user.name) did not find property 'name'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.MissingAlternative @ConditionalOnMissingClass did not find unwanted classes 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository', 'org.springframework.security.oauth2.server.resource.introspection.OpaqueTokenIntrospector', 'org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository' (UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured)
      - @ConditionalOnBean (types: org.springframework.security.config.ObjectPostProcessor; SearchStrategy: all) found beans 'objectPostProcessor', 'webAuthorizationManagerPostProcessor', 'filterChainDecoratorPostProcessor', 'authenticationManagerPostProcessor'; @ConditionalOnMissingBean (types: org.springframework.security.authentication.AuthenticationManager,org.springframework.security.authentication.AuthenticationProvider,org.springframework.security.core.userdetails.UserDetailsService,org.springframework.security.authentication.AuthenticationManagerResolver,org.springframework.security.oauth2.jwt.JwtDecoder; SearchStrategy: all) did not find any beans (OnBeanCondition)

   WebServicesAutoConfiguration matched:
      - @ConditionalOnClass found required class 'org.springframework.ws.transport.http.MessageDispatcherServlet' (OnClassCondition)
      - found 'session' scope (OnWebApplicationCondition)
      - @ConditionalOnMissingBean (types: org.springframework.ws.config.annotation.WsConfigurationSupport; SearchStrategy: all) did not find any beans (OnBeanCondition)


Negative matches:
-----------------

   WebServicesAutoConfiguration#wsdlDefinitionBeanFactoryPostProcessor:
      Did not match:
         - WSDL locations did not find property spring.webservices.wsdl-locations (OnWsdlLocationsCondition)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-09-16 21:50:28 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 79 class path changes (79 additions, 0 deletions, 0 modifications)
2025-09-16 21:50:28 [Thread-16] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-16 21:50:28 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-16 21:50:28 [Thread-16] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is shutting down (timeout:45s)
2025-09-16 21:50:28 [Thread-16] INFO  o.a.c.i.engine.AbstractCamelContext - Routes stopped (stopped:0)
2025-09-16 21:50:28 [Thread-16] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) shutdown in 2ms (uptime:2s)
2025-09-16 21:50:28 [Thread-16] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:50:28 [Thread-16] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-09-16 21:50:28 [Thread-16] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-09-16 21:50:28 [Thread-16] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-09-16 21:50:28 [Thread-16] INFO  o.a.c.c.s.CamelHttpTransportServlet - Destroyed CamelHttpTransportServlet[CamelServlet]
2025-09-16 21:50:28 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 257004 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:50:28 [restartedMain] INFO  com.xp.XpApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-16 21:50:29 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:50:29 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 3 JPA repository interfaces.
2025-09-16 21:50:29 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:50:29 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:50:29 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:50:29 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:50:29 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 850 ms
2025-09-16 21:50:29 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:50:29 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:50:29 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:50:29 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-09-16 21:50:29 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection conn40: url=jdbc:h2:mem:xpdb user=SA
2025-09-16 21:50:29 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-09-16 21:50:29 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:50:29 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:50:29 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:50:29 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:50:29 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:50:30 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:50:30 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:50:30 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:50:30 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:50:30 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:50:30 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:50:31 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:xpdb'
2025-09-16 21:50:31 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:50:31 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:50:31 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-16 21:50:31 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:50:31 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:50:31 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:50:31 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:50:31 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:50:31 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:50:31 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:50:31 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:50:31 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:50:31 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:50:31 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:50:31 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:50:31 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:50:31 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:50:31 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:50:31 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:50:31 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:50:31 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:50:31 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:50:31 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 73ms (build:0ms init:0ms start:73ms)
2025-09-16 21:50:31 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 2.784 seconds (process running for 181.26)
2025-09-16 21:50:31 [restartedMain] INFO  com.xp.config.DataLoader - Loading initial data...
2025-09-16 21:50:31 [restartedMain] INFO  com.xp.config.DataLoader - Sample products created successfully
2025-09-16 21:50:31 [restartedMain] INFO  com.xp.config.DataLoader - Sample customers created successfully
2025-09-16 21:50:31 [restartedMain] INFO  com.xp.config.DataLoader - Sample users created successfully
2025-09-16 21:50:31 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

    None


Negative matches:
-----------------

   ManagementWebSecurityAutoConfiguration:
      Did not match:
         - AllNestedConditions 1 matched 1 did not; NestedCondition on DefaultWebSecurityCondition.Beans @ConditionalOnMissingBean (types: org.springframework.security.web.SecurityFilterChain; SearchStrategy: all) found beans of type 'org.springframework.security.web.SecurityFilterChain' securityFilterChain; NestedCondition on DefaultWebSecurityCondition.Classes @ConditionalOnClass found required classes 'org.springframework.security.web.SecurityFilterChain', 'org.springframework.security.config.annotation.web.builders.HttpSecurity' (DefaultWebSecurityCondition)
      Matched:
         - found 'session' scope (OnWebApplicationCondition)

   SpringBootWebSecurityConfiguration.WebSecurityEnablerConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (names: springSecurityFilterChain; SearchStrategy: all) found beans named springSecurityFilterChain (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required class 'org.springframework.security.config.annotation.web.configuration.EnableWebSecurity' (OnClassCondition)

   UserDetailsServiceAutoConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.security.authentication.AuthenticationManager,org.springframework.security.authentication.AuthenticationProvider,org.springframework.security.core.userdetails.UserDetailsService,org.springframework.security.authentication.AuthenticationManagerResolver,org.springframework.security.oauth2.jwt.JwtDecoder; SearchStrategy: all) found beans of type 'org.springframework.security.authentication.AuthenticationManager' authenticationManager and found beans of type 'org.springframework.security.core.userdetails.UserDetailsService' userDetailsService and found beans of type 'org.springframework.security.authentication.AuthenticationProvider' authenticationProvider (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required class 'org.springframework.security.authentication.AuthenticationManager' (OnClassCondition)
         - found 'session' scope (OnWebApplicationCondition)
         - AnyNestedCondition 1 matched 2 did not; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.PasswordConfigured @ConditionalOnProperty (spring.security.user.password) did not find property 'password'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.NameConfigured @ConditionalOnProperty (spring.security.user.name) did not find property 'name'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.MissingAlternative @ConditionalOnMissingClass did not find unwanted classes 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository', 'org.springframework.security.oauth2.server.resource.introspection.OpaqueTokenIntrospector', 'org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository' (UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured)

   WebServicesAutoConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.ws.config.annotation.WsConfigurationSupport; SearchStrategy: all) found beans of type 'org.springframework.ws.config.annotation.WsConfigurationSupport' org.springframework.ws.config.annotation.DelegatingWsConfiguration (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required class 'org.springframework.ws.transport.http.MessageDispatcherServlet' (OnClassCondition)
         - found 'session' scope (OnWebApplicationCondition)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-09-16 21:50:48 [restartedMain] INFO  com.xp.XpApplication - Starting XpApplication using Java 21.0.6 with PID 257948 (C:\Aulas\xp\target\classes started by gabri in C:\Aulas\xp)
2025-09-16 21:50:48 [restartedMain] INFO  com.xp.XpApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-16 21:50:48 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-core\4.0.5\jaxb-core-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.activation-api.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-core/4.0.5/jakarta.xml.bind-api.jar
2025-09-16 21:50:48 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\gabri\.m2\repository\com\sun\xml\bind\jaxb-impl\4.0.5\jaxb-impl-4.0.5.jar referenced one or more files that do not exist: file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/jaxb-core.jar,file:/C:/Users/gabri/.m2/repository/com/sun/xml/bind/jaxb-impl/4.0.5/angus-activation.jar
2025-09-16 21:50:48 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-16 21:50:48 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-16 21:50:49 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-16 21:50:49 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 64 ms. Found 3 JPA repository interfaces.
2025-09-16 21:50:50 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-16 21:50:50 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-16 21:50:50 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-16 21:50:50 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-16 21:50:50 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2078 ms
2025-09-16 21:50:50 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-16 21:50:50 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.13.Final
2025-09-16 21:50:51 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-16 21:50:51 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-16 21:50:51 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-16 21:50:51 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:xpdb user=SA
2025-09-16 21:50:51 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-16 21:50:51 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-16 21:50:51 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-16 21:50:52 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-16 21:50:52 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-16 21:50:52 [restartedMain] DEBUG c.x.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-16 21:50:52 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-16 21:50:52 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-16 21:50:52 [restartedMain] INFO  o.a.camel.util.concurrent.ThreadType - The type of thread detected is PLATFORM
2025-09-16 21:50:53 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-16 21:50:53 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-09-16 21:50:53 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-16 21:50:54 [restartedMain] INFO  o.s.w.s.a.s.AnnotationActionEndpointMapping - Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-09-16 21:50:54 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:xpdb'
2025-09-16 21:50:54 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-16 21:50:54 [restartedMain] INFO  o.a.c.c.s.CamelHttpTransportServlet - Initialized CamelHttpTransportServlet[name=CamelServlet, contextPath=]
2025-09-16 21:50:54 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-16 21:50:54 [scheduling-1] DEBUG c.x.security.AnomalyDetectionService - Anomaly detection service health check: 0 user records, 0 IP records
2025-09-16 21:50:55 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) is starting
2025-09-16 21:50:55 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - MDC logging is enabled on CamelContext: XP-ESB
2025-09-16 21:50:55 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Defaulting to MemoryAggregationRepository
2025-09-16 21:50:55 [restartedMain] INFO  o.a.c.p.aggregate.AggregateProcessor - Using CompletionTimeout to trigger after 5000 millis of inactivity.
2025-09-16 21:50:55 [restartedMain] INFO  o.a.c.s.b.CamelSpringBootApplicationListener - Starting CamelMainRunController to ensure the main thread keeps running
2025-09-16 21:50:55 [CamelMainRunController] INFO  org.apache.camel.main.MainSupport - Apache Camel (Main) 4.4.0 is starting
2025-09-16 21:50:55 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup (started:11)
2025-09-16 21:50:55 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started rest-to-soap-bridge (servlet:/api-to-soap)
2025-09-16 21:50:55 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-all-products-soap (direct://getAllProductsSOAP)
2025-09-16 21:50:55 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started get-product-by-id-soap (direct://getProductByIdSOAP)
2025-09-16 21:50:55 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started soap-to-json-transformer (direct://transformSoapToJson)
2025-09-16 21:50:55 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-aggregator (servlet:/aggregate)
2025-09-16 21:50:55 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started content-based-router (servlet:/route)
2025-09-16 21:50:55 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started load-balancer (servlet:/loadbalance)
2025-09-16 21:50:55 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started circuit-breaker (servlet:/circuit-breaker)
2025-09-16 21:50:55 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started message-enricher (servlet:/enrich)
2025-09-16 21:50:55 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-channel (servlet:/deadletter)
2025-09-16 21:50:55 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext -     Started dead-letter-queue (direct://deadLetterQueue)
2025-09-16 21:50:55 [restartedMain] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 4.4.0 (XP-ESB) started in 221ms (build:0ms init:0ms start:221ms)
2025-09-16 21:50:55 [restartedMain] INFO  com.xp.XpApplication - Started XpApplication in 7.436 seconds (process running for 7.83)
2025-09-16 21:50:55 [restartedMain] INFO  com.xp.config.DataLoader - Loading initial data...
2025-09-16 21:50:55 [restartedMain] INFO  com.xp.config.DataLoader - Sample products created successfully
2025-09-16 21:50:55 [restartedMain] INFO  com.xp.config.DataLoader - Sample customers created successfully
2025-09-16 21:50:56 [restartedMain] INFO  com.xp.config.DataLoader - Sample users created successfully
2025-09-16 21:51:09 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-16 21:51:09 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-16 21:51:09 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-09-16 21:51:09 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs
2025-09-16 21:51:09 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2025-09-16 21:51:09 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:51:09 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 9FDC486B6F05FC1D80D143D79296BA54
2025-09-16 21:51:09 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs
2025-09-16 21:51:10 [http-nio-8080-exec-1] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 336 ms
2025-09-16 21:51:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-09-16 21:51:10 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:51:10 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-09-16 21:51:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-09-16 21:51:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-09-16 21:51:10 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:51:21 [http-nio-8080-exec-4] INFO  o.a.coyote.http11.Http11Processor - Error parsing HTTP request header
 Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.
java.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x070x120x010x000x070x0e0x030x030xdeJ0xed0xe80xd40xb90xf40x02L=0x160xf80xd50x0cP`^0x86z0xbb0x98P0x850xa30x8cq0x02*0xf5'B0xb2 ]. HTTP method names must be tokens
	at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:403)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-16 21:51:21 [http-nio-8080-exec-10] INFO  o.a.coyote.http11.Http11Processor - Error parsing HTTP request header
 Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.
java.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x070x120x010x000x070x0e0x030x03.0xdb0x14l0xf0Z0xa3/b0xd90x060xad0x970xc50xcf\O0xdd0xfa0x060xa9b0xb80xdc80xcc0xec0xebG0xf40x9c0xbb ]. HTTP method names must be tokens
	at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:403)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-16 21:51:31 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs
2025-09-16 21:51:31 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.ForceEagerSessionCreationFilter - Created session eagerly
2025-09-16 21:51:31 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-16 21:51:31 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs
